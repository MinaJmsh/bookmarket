Folder Structure
--------------------------------------------------
./
    App.css
    App.jsx
    App.test.js
    index.css
    index.js
    logo.svg
    main.jsx
    reportWebVitals.js
    setupTests.js
    components/
        ProtectedRoute.jsx
        BookCard/
            BookCard.css
            Bookcard.jsx
        layout/
            Footer.css
            Footer.jsx
            Navbar.css
            Navbar.jsx
    context/
        AuthContext.jsx
    pages/
        BookDetailPage.css
        BookDetailPage.jsx
        Bookspage.css
        Bookspage.jsx
        Homepage.css
        Homepage.jsx
        Admin/
            AdminBooksPage.jsx
            AdminCategoriesPage.jsx
            AdminDashboard.jsx
            AdminPages.css
            AdminSupportPage.jsx
            AdminUsersPage.jsx
            output_path.txt
        Auth/
            AuthPages.css
            ForgotPasswordPage.jsx
            LoginPage.jsx
            RegisterPage.jsx
        Info/
            BuyingGuidePage.jsx
            FAQPage.jsx
            InfoPages.css
            SellingGuidePage.jsx
            TermsPage.jsx
        Seller/
            AddBookPage.jsx
            EditBookPage.jsx
            SellerInventoryPage.jsx
            SellerPages.css
        User/
            FavoritesPage.jsx
            MyOrdersPage.jsx
            NotificationsPage.jsx
            ProfilePage.jsx
            SupportPage.jsx
            UserPages.css
    services/
        api.js


File Contents
--------------------------------------------------


App.css
File type: .css
.App {
  text-align: center;
}

.App-logo {
  height: 40vmin;
  pointer-events: none;
}

@media (prefers-reduced-motion: no-preference) {
  .App-logo {
    animation: App-logo-spin infinite 20s linear;
  }
}

.App-header {
  background-color: #282c34;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-size: calc(10px + 2vmin);
  color: white;
}

.App-link {
  color: #61dafb;
}

@keyframes App-logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}


--------------------------------------------------
File End
--------------------------------------------------


App.jsx
File type: .jsx
import React from "react";
import {
  BrowserRouter as Router,
  Routes,
  Route,
  Navigate,
} from "react-router-dom";
import { ToastContainer } from "react-toastify";
import "react-toastify/dist/ReactToastify.css";

import { AuthProvider } from "./context/AuthContext";
import Navbar from "./components/layout/Navbar";
import Footer from "./components/layout/Footer";
import ProtectedRoute from "./components/ProtectedRoute";

import HomePage from "./pages/Homepage";
import BooksPage from "./pages/Bookspage";
import BookDetailPage from "./pages/BookDetailPage";
import RegisterPage from "./pages/Auth/RegisterPage";
import LoginPage from "./pages/Auth/LoginPage";
import ForgotPasswordPage from "./pages/Auth/ForgotPasswordPage";

import ProfilePage from "./pages/User/ProfilePage";
import MyOrdersPage from "./pages/User/MyOrdersPage";
import FavoritesPage from "./pages/User/FavoritesPage";
import NotificationsPage from "./pages/User/NotificationsPage";
import SupportPage from "./pages/User/SupportPage";

import SellerInventoryPage from "./pages/Seller/SellerInventoryPage";
import AddBookPage from "./pages/Seller/AddBookPage";
import EditBookPage from "./pages/Seller/EditBookPage";

import AdminDashboard from "./pages/Admin/AdminDashboard";
import AdminUsersPage from "./pages/Admin/AdminUsersPage";
import AdminBooksPage from "./pages/Admin/AdminBooksPage";
import AdminSupportPage from "./pages/Admin/AdminSupportPage";
import AdminCategoriesPage from "./pages/Admin/AdminCategoriesPage";

import BuyingGuidePage from "./pages/Info/BuyingGuidePage";
import SellingGuidePage from "./pages/Info/SellingGuidePage";
import TermsPage from "./pages/Info/TermsPage";
import FAQPage from "./pages/Info/FAQPage";

function App() {
  return (
    <Router>
      <AuthProvider>
        <div
          style={{
            minHeight: "100vh",
            display: "flex",
            flexDirection: "column",
          }}
        >
          <Navbar />
          <main style={{ flex: 1 }}>
            <Routes>
              <Route path="/" element={<HomePage />} />
              <Route path="/books" element={<BooksPage />} />
              <Route path="/books/:id" element={<BookDetailPage />} />
              <Route path="/register" element={<RegisterPage />} />
              <Route path="/login" element={<LoginPage />} />
              <Route path="/forgot-password" element={<ForgotPasswordPage />} />

              <Route
                path="/profile"
                element={
                  <ProtectedRoute>
                    <ProfilePage />
                  </ProtectedRoute>
                }
              />
              <Route
                path="/my-orders"
                element={
                  <ProtectedRoute>
                    <MyOrdersPage />
                  </ProtectedRoute>
                }
              />
              <Route
                path="/favorites"
                element={
                  <ProtectedRoute>
                    <FavoritesPage />
                  </ProtectedRoute>
                }
              />
              <Route
                path="/notifications"
                element={
                  <ProtectedRoute>
                    <NotificationsPage />
                  </ProtectedRoute>
                }
              />
              <Route
                path="/support"
                element={
                  <ProtectedRoute>
                    <SupportPage />
                  </ProtectedRoute>
                }
              />

              <Route
                path="/seller/inventory"
                element={
                  <ProtectedRoute requiredRole="seller">
                    <SellerInventoryPage />
                  </ProtectedRoute>
                }
              />
              <Route
                path="/seller/add-book"
                element={
                  <ProtectedRoute requiredRole="seller">
                    <AddBookPage />
                  </ProtectedRoute>
                }
              />
              <Route
                path="/seller/edit-book/:id"
                element={
                  <ProtectedRoute requiredRole="seller">
                    <EditBookPage />
                  </ProtectedRoute>
                }
              />

              <Route
                path="/admin"
                element={
                  <ProtectedRoute requiredRole="admin">
                    <AdminDashboard />
                  </ProtectedRoute>
                }
              />
              <Route
                path="/admin/users"
                element={
                  <ProtectedRoute requiredRole="admin">
                    <AdminUsersPage />
                  </ProtectedRoute>
                }
              />
              <Route
                path="/admin/books"
                element={
                  <ProtectedRoute requiredRole="admin">
                    <AdminBooksPage />
                  </ProtectedRoute>
                }
              />
              <Route
                path="/admin/support"
                element={
                  <ProtectedRoute requiredRole="admin">
                    <AdminSupportPage />
                  </ProtectedRoute>
                }
              />
              <Route
                path="/admin/categories"
                element={
                  <ProtectedRoute requiredRole="admin">
                    <AdminCategoriesPage />
                  </ProtectedRoute>
                }
              />

              <Route path="*" element={<Navigate to="/" replace />} />
              {/* 
              <Route
                path="/payment/:orderId"
                element={
                  <ProtectedRoute>
                    <PaymentPage />
                  </ProtectedRoute>
                }
              />
              <Route
                path="/payment/success/:orderId"
                element={
                  <ProtectedRoute>
                    <PaymentSuccessPage />
                  </ProtectedRoute>
                }
              />
              <Route
                path="/payment/failed/:orderId"
                element={
                  <ProtectedRoute>
                    <PaymentFailedPage />
                  </ProtectedRoute>
                }
              />
              <Route
                path="/transactions"
                element={
                  <ProtectedRoute>
                    <TransactionsPage />
                  </ProtectedRoute>
                }
              /> */}

              {/* Info Pages */}
              <Route path="/guide/buying" element={<BuyingGuidePage />} />
              <Route path="/guide/selling" element={<SellingGuidePage />} />
              <Route path="/terms" element={<TermsPage />} />
              <Route path="/faq" element={<FAQPage />} />
            </Routes>
          </main>
          <Footer />
          <ToastContainer
            position="top-left"
            autoClose={3000}
            rtl={true}
            theme="light"
          />
        </div>
      </AuthProvider>
    </Router>
  );
}

export default App;


--------------------------------------------------
File End
--------------------------------------------------


App.test.js
File type: .js
import { render, screen } from '@testing-library/react';
import App from './App';

test('renders learn react link', () => {
  render(<App />);
  const linkElement = screen.getByText(/learn react/i);
  expect(linkElement).toBeInTheDocument();
});


--------------------------------------------------
File End
--------------------------------------------------


index.css
File type: .css
:root {
  --primary: #2c5f2d;
  --primary-dark: #1e4620;
  --primary-light: #97c2a2;
  --secondary: #d4a574;
  --secondary-dark: #b8845a;
  --secondary-light: #f5e6d3;
  --accent: #c44536;
  --accent-light: #e57368;
  --bg-primary: #fdfbf7;
  --bg-secondary: #f8f6f1;
  --bg-tertiary: #ffffff;
  --text-primary: #2d2926;
  --text-secondary: #5c5854;
  --text-muted: #8e8985;
  --border: #e6e3dd;
  --shadow-sm: 0 2px 8px rgba(45, 41, 38, 0.05);
  --shadow-md: 0 4px 16px rgba(45, 41, 38, 0.08);
  --shadow-lg: 0 8px 32px rgba(45, 41, 38, 0.12);
  --success: #2c5f2d;
  --warning: #d4a574;
  --error: #c44536;
  --info: #4a7c9d;
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
  --spacing-2xl: 3rem;
  --radius-sm: 6px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 24px;
  --font-family:
    "Vazirmatn", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  font-size: 16px;
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-family);
  background-color: var(--bg-primary);
  color: var(--text-primary);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-weight: 700;
  line-height: 1.3;
  color: var(--text-primary);
}

h1 {
  font-size: 2.5rem;
}
h2 {
  font-size: 2rem;
}
h3 {
  font-size: 1.75rem;
}
h4 {
  font-size: 1.5rem;
}
h5 {
  font-size: 1.25rem;
}
h6 {
  font-size: 1rem;
}

p {
  margin-bottom: var(--spacing-md);
  color: var(--text-secondary);
}

a {
  color: var(--primary);
  text-decoration: none;
  transition: color 0.2s ease;
}

a:hover {
  color: var(--primary-dark);
}

button {
  font-family: var(--font-family);
  cursor: pointer;
  border: none;
  outline: none;
  transition: all 0.3s ease;
}

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-lg);
  border-radius: var(--radius-md);
  font-weight: 600;
  font-size: 1rem;
  white-space: nowrap;
}

.btn-primary {
  background: linear-gradient(
    135deg,
    var(--primary) 0%,
    var(--primary-dark) 100%
  );
  color: white;
  box-shadow: var(--shadow-sm);
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.btn-secondary {
  background: var(--bg-tertiary);
  color: var(--text-primary);
  border: 2px solid var(--border);
}

.btn-secondary:hover {
  border-color: var(--primary);
  color: var(--primary);
}

.btn-accent {
  background: linear-gradient(
    135deg,
    var(--accent) 0%,
    var(--accent-light) 100%
  );
  color: white;
}

.btn-accent:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.btn-small {
  padding: var(--spacing-xs) var(--spacing-md);
  font-size: 0.875rem;
}

.btn-large {
  padding: var(--spacing-md) var(--spacing-xl);
  font-size: 1.125rem;
}

input,
textarea,
select {
  font-family: var(--font-family);
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-md);
  border: 2px solid var(--border);
  border-radius: var(--radius-md);
  font-size: 1rem;
  background: var(--bg-tertiary);
  color: var(--text-primary);
  transition: all 0.2s ease;
}

input:focus,
textarea:focus,
select:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(44, 95, 45, 0.1);
}

textarea {
  resize: vertical;
  min-height: 100px;
}

.card {
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--border);
  transition: all 0.3s ease;
}

.card:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-2px);
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--spacing-lg);
}

.grid {
  display: grid;
  gap: var(--spacing-lg);
}

.grid-2 {
  grid-template-columns: repeat(2, 1fr);
}
.grid-3 {
  grid-template-columns: repeat(3, 1fr);
}
.grid-4 {
  grid-template-columns: repeat(4, 1fr);
}

.loading {
  display: inline-block;
  width: 20px;
  height: 20px;
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  border-top-color: white;
  animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.loading-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 400px;
}

.badge {
  display: inline-flex;
  align-items: center;
  padding: var(--spacing-xs) var(--spacing-sm);
  border-radius: var(--radius-sm);
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.badge-success {
  background: rgba(44, 95, 45, 0.1);
  color: var(--success);
}

.badge-warning {
  background: rgba(212, 165, 116, 0.1);
  color: var(--warning);
}

.badge-error {
  background: rgba(196, 69, 54, 0.1);
  color: var(--error);
}

.badge-info {
  background: rgba(74, 124, 157, 0.1);
  color: var(--info);
}

@media (max-width: 1024px) {
  .grid-4 {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (max-width: 768px) {
  html {
    font-size: 14px;
  }
  h1 {
    font-size: 2rem;
  }
  .grid-2,
  .grid-3,
  .grid-4 {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 480px) {
  .grid-2,
  .grid-3,
  .grid-4 {
    grid-template-columns: 1fr;
  }
}


--------------------------------------------------
File End
--------------------------------------------------


index.js
File type: .js
import React from 'react';
import ReactDOM from 'react-dom/client';
import './index.css';
import App from './App';
import reportWebVitals from './reportWebVitals';

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

// If you want to start measuring performance in your app, pass a function
// to log results (for example: reportWebVitals(console.log))
// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals
reportWebVitals();


--------------------------------------------------
File End
--------------------------------------------------


logo.svg
File type: .svg
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 841.9 595.3"><g fill="#61DAFB"><path d="M666.3 296.5c0-32.5-40.7-63.3-103.1-82.4 14.4-63.6 8-114.2-20.2-130.4-6.5-3.8-14.1-5.6-22.4-5.6v22.3c4.6 0 8.3.9 11.4 2.6 13.6 7.8 19.5 37.5 14.9 75.7-1.1 9.4-2.9 19.3-5.1 29.4-19.6-4.8-41-8.5-63.5-10.9-13.5-18.5-27.5-35.3-41.6-50 32.6-30.3 63.2-46.9 84-46.9V78c-27.5 0-63.5 19.6-99.9 53.6-36.4-33.8-72.4-53.2-99.9-53.2v22.3c20.7 0 51.4 16.5 84 46.6-14 14.7-28 31.4-41.3 49.9-22.6 2.4-44 6.1-63.6 11-2.3-10-4-19.7-5.2-29-4.7-38.2 1.1-67.9 14.6-75.8 3-1.8 6.9-2.6 11.5-2.6V78.5c-8.4 0-16 1.8-22.6 5.6-28.1 16.2-34.4 66.7-19.9 130.1-62.2 19.2-102.7 49.9-102.7 82.3 0 32.5 40.7 63.3 103.1 82.4-14.4 63.6-8 114.2 20.2 130.4 6.5 3.8 14.1 5.6 22.5 5.6 27.5 0 63.5-19.6 99.9-53.6 36.4 33.8 72.4 53.2 99.9 53.2 8.4 0 16-1.8 22.6-5.6 28.1-16.2 34.4-66.7 19.9-130.1 62-19.1 102.5-49.9 102.5-82.3zm-130.2-66.7c-3.7 12.9-8.3 26.2-13.5 39.5-4.1-8-8.4-16-13.1-24-4.6-8-9.5-15.8-14.4-23.4 14.2 2.1 27.9 4.7 41 7.9zm-45.8 106.5c-7.8 13.5-15.8 26.3-24.1 38.2-14.9 1.3-30 2-45.2 2-15.1 0-30.2-.7-45-1.9-8.3-11.9-16.4-24.6-24.2-38-7.6-13.1-14.5-26.4-20.8-39.8 6.2-13.4 13.2-26.8 20.7-39.9 7.8-13.5 15.8-26.3 24.1-38.2 14.9-1.3 30-2 45.2-2 15.1 0 30.2.7 45 1.9 8.3 11.9 16.4 24.6 24.2 38 7.6 13.1 14.5 26.4 20.8 39.8-6.3 13.4-13.2 26.8-20.7 39.9zm32.3-13c5.4 13.4 10 26.8 13.8 39.8-13.1 3.2-26.9 5.9-41.2 8 4.9-7.7 9.8-15.6 14.4-23.7 4.6-8 8.9-16.1 13-24.1zM421.2 430c-9.3-9.6-18.6-20.3-27.8-32 9 .4 18.2.7 27.5.7 9.4 0 18.7-.2 27.8-.7-9 11.7-18.3 22.4-27.5 32zm-74.4-58.9c-14.2-2.1-27.9-4.7-41-7.9 3.7-12.9 8.3-26.2 13.5-39.5 4.1 8 8.4 16 13.1 24 4.7 8 9.5 15.8 14.4 23.4zM420.7 163c9.3 9.6 18.6 20.3 27.8 32-9-.4-18.2-.7-27.5-.7-9.4 0-18.7.2-27.8.7 9-11.7 18.3-22.4 27.5-32zm-74 58.9c-4.9 7.7-9.8 15.6-14.4 23.7-4.6 8-8.9 16-13 24-5.4-13.4-10-26.8-13.8-39.8 13.1-3.1 26.9-5.8 41.2-7.9zm-90.5 125.2c-35.4-15.1-58.3-34.9-58.3-50.6 0-15.7 22.9-35.6 58.3-50.6 8.6-3.7 18-7 27.7-10.1 5.7 19.6 13.2 40 22.5 60.9-9.2 20.8-16.6 41.1-22.2 60.6-9.9-3.1-19.3-6.5-28-10.2zM310 490c-13.6-7.8-19.5-37.5-14.9-75.7 1.1-9.4 2.9-19.3 5.1-29.4 19.6 4.8 41 8.5 63.5 10.9 13.5 18.5 27.5 35.3 41.6 50-32.6 30.3-63.2 46.9-84 46.9-4.5-.1-8.3-1-11.3-2.7zm237.2-76.2c4.7 38.2-1.1 67.9-14.6 75.8-3 1.8-6.9 2.6-11.5 2.6-20.7 0-51.4-16.5-84-46.6 14-14.7 28-31.4 41.3-49.9 22.6-2.4 44-6.1 63.6-11 2.3 10.1 4.1 19.8 5.2 29.1zm38.5-66.7c-8.6 3.7-18 7-27.7 10.1-5.7-19.6-13.2-40-22.5-60.9 9.2-20.8 16.6-41.1 22.2-60.6 9.9 3.1 19.3 6.5 28.1 10.2 35.4 15.1 58.3 34.9 58.3 50.6-.1 15.7-23 35.6-58.4 50.6zM320.8 78.4z"/><circle cx="420.9" cy="296.5" r="45.7"/><path d="M520.5 78.1z"/></g></svg>

--------------------------------------------------
File End
--------------------------------------------------


main.jsx
File type: .jsx
import React from "react";
import ReactDOM from "react-dom/client";
import App from "./App";
import "./index.css";

ReactDOM.createRoot(document.getElementById("root")).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
);


--------------------------------------------------
File End
--------------------------------------------------


reportWebVitals.js
File type: .js
const reportWebVitals = onPerfEntry => {
  if (onPerfEntry && onPerfEntry instanceof Function) {
    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {
      getCLS(onPerfEntry);
      getFID(onPerfEntry);
      getFCP(onPerfEntry);
      getLCP(onPerfEntry);
      getTTFB(onPerfEntry);
    });
  }
};

export default reportWebVitals;


--------------------------------------------------
File End
--------------------------------------------------


setupTests.js
File type: .js
// jest-dom adds custom jest matchers for asserting on DOM nodes.
// allows you to do things like:
// expect(element).toHaveTextContent(/react/i)
// learn more: https://github.com/testing-library/jest-dom
import '@testing-library/jest-dom';


--------------------------------------------------
File End
--------------------------------------------------


components\ProtectedRoute.jsx
File type: .jsx
import React from "react";
import { Navigate } from "react-router-dom";
import { useAuth } from "../context/AuthContext";

const ProtectedRoute = ({ children, requiredRole }) => {
  const { user, loading, isAuthenticated } = useAuth();

  if (loading) {
    return (
      <div
        style={{
          display: "flex",
          justifyContent: "center",
          alignItems: "center",
          minHeight: "60vh",
        }}
      >
        <div
          className="loading"
          style={{
            width: "40px",
            height: "40px",
            borderColor: "var(--primary)",
            borderTopColor: "transparent",
          }}
        ></div>
      </div>
    );
  }

  if (!isAuthenticated) {
    return <Navigate to="/login" replace />;
  }

  if (requiredRole) {
    if (requiredRole === "admin" && user?.role !== "admin" && !user?.is_staff) {
      return <Navigate to="/" replace />;
    }

    if (
      requiredRole === "seller" &&
      user?.role !== "seller" &&
      user?.role !== "admin" &&
      !user?.is_staff
    ) {
      return <Navigate to="/" replace />;
    }
  }

  return children;
};

export default ProtectedRoute;


--------------------------------------------------
File End
--------------------------------------------------


components\BookCard\BookCard.css
File type: .css
.book-card {
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--border);
  transition: all 0.3s ease;
  height: 100%;
  display: flex;
  flex-direction: column;
}

.book-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
}

.book-card-link {
  text-decoration: none;
  color: inherit;
  display: flex;
  flex-direction: column;
  height: 100%;
}

.book-card-image {
  position: relative;
  width: 100%;
  padding-top: 140%;
  overflow: hidden;
  background: var(--bg-secondary);
}

.book-card-image img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.book-card:hover .book-card-image img {
  transform: scale(1.05);
}

.book-card-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-sm);
  color: white;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.book-card:hover .book-card-overlay {
  opacity: 1;
}

.view-icon {
  font-size: 2rem;
}

.book-status-badge {
  position: absolute;
  top: var(--spacing-sm);
  right: var(--spacing-sm);
  font-size: 0.7rem;
  padding: 4px 8px;
  backdrop-filter: blur(10px);
}

.book-card-content {
  padding: var(--spacing-md);
  display: flex;
  flex-direction: column;
  flex: 1;
}

.book-title {
  font-size: 1.125rem;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: var(--spacing-xs);
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  min-height: 2.8em;
}

.book-author {
  color: var(--text-secondary);
  font-size: 0.9rem;
  margin-bottom: var(--spacing-md);
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.book-meta {
  display: flex;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-md);
  flex-wrap: wrap;
}

.book-category {
  font-size: 0.75rem;
  color: var(--primary);
  background: rgba(44, 95, 45, 0.1);
  padding: 4px 8px;
  border-radius: var(--radius-sm);
  font-weight: 600;
}

.book-condition {
  font-size: 0.7rem;
  padding: 4px 8px;
}

.book-card-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: auto;
  padding-top: var(--spacing-md);
  border-top: 1px solid var(--border);
}

.book-price {
  display: flex;
  align-items: baseline;
  gap: var(--spacing-xs);
}

.price-amount {
  font-size: 1.5rem;
  font-weight: 800;
  color: var(--primary);
}

.price-currency {
  font-size: 0.875rem;
  color: var(--text-secondary);
}

.book-actions {
  display: flex;
  gap: var(--spacing-xs);
}

.action-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  color: var(--text-secondary);
  font-size: 1.125rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.action-btn:hover {
  background: var(--primary);
  color: white;
  border-color: var(--primary);
  transform: scale(1.1);
}

.action-btn.favorited {
  background: var(--accent);
  color: white;
  border-color: var(--accent);
}

.action-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

@media (max-width: 480px) {
  .book-title {
    font-size: 1rem;
  }

  .price-amount {
    font-size: 1.25rem;
  }
}


--------------------------------------------------
File End
--------------------------------------------------


components\BookCard\Bookcard.jsx
File type: .jsx
import React, { useState } from "react";
import { Link } from "react-router-dom";
import { FiHeart, FiEye } from "react-icons/fi";
import { toast } from "react-toastify";
import api from "../../services/api";
import { useAuth } from "../../context/AuthContext";
import "./BookCard.css";

const BookCard = ({ book, onFavoriteToggle, showActions = true }) => {
  const { isAuthenticated } = useAuth();
  const [isFavorited, setIsFavorited] = useState(false);
  const [loading, setLoading] = useState(false);

  const formatPrice = (price) => {
    return new Intl.NumberFormat("fa-IR").format(price);
  };

  const getConditionLabel = (condition) => {
    return condition === "new" ? "نو" : "دست دوم";
  };

  const getStatusBadge = (status) => {
    const badges = {
      available: { text: "موجود", class: "badge-success" },
      sold: { text: "فروخته شده", class: "badge-error" },
      pending: { text: "در انتظار تایید", class: "badge-warning" },
    };
    return badges[status] || badges["pending"];
  };

  const handleFavorite = async (e) => {
    e.preventDefault();

    if (!isAuthenticated) {
      toast.info("لطفا ابتدا وارد شوید");
      return;
    }

    try {
      setLoading(true);
      if (isFavorited) {
        await api.delete(`/favorites/${book.id}/`);
        setIsFavorited(false);
        toast.success("از علاقه‌مندی‌ها حذف شد");
      } else {
        await api.post("/favorites/", { book: book.id });
        setIsFavorited(true);
        toast.success("به علاقه‌مندی‌ها اضافه شد");
      }

      if (onFavoriteToggle) {
        onFavoriteToggle(book.id, !isFavorited);
      }
    } catch (error) {
      console.error("Favorite error:", error);
      toast.error("خطا در عملیات");
    } finally {
      setLoading(false);
    }
  };

  const defaultImage =
    "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMzAwIiBoZWlnaHQ9IjQwMCIgZmlsbD0iI2Y4ZjZmMSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjAiIGZpbGw9IiM4ZTg5ODUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7aqduM2Kgg2qnYqtin2Io8L3RleHQ+PC9zdmc+";

  return (
    <div className="book-card">
      <Link to={`/books/${book.id}`} className="book-card-link">
        <div className="book-card-image">
          <img
            src={book.image || defaultImage}
            alt={book.title}
            onError={(e) => (e.target.src = defaultImage)}
          />
          <div className="book-card-overlay">
            <FiEye className="view-icon" />
            <span>مشاهده جزئیات</span>
          </div>

          <div
            className={`book-status-badge badge ${getStatusBadge(book.status).class}`}
          >
            {getStatusBadge(book.status).text}
          </div>
        </div>

        <div className="book-card-content">
          <h3 className="book-title">{book.title}</h3>
          <p className="book-author">{book.author}</p>

          <div className="book-meta">
            <span className="book-category">{book.category_name}</span>
            <span className="book-condition badge badge-info">
              {getConditionLabel(book.condition)}
            </span>
          </div>

          <div className="book-card-footer">
            <div className="book-price">
              <span className="price-amount">{formatPrice(book.price)}</span>
              <span className="price-currency">تومان</span>
            </div>

            {showActions && (
              <div className="book-actions">
                <button
                  className={`action-btn ${isFavorited ? "favorited" : ""}`}
                  onClick={handleFavorite}
                  disabled={loading}
                  title={
                    isFavorited
                      ? "حذف از علاقه‌مندی‌ها"
                      : "افزودن به علاقه‌مندی‌ها"
                  }
                >
                  <FiHeart />
                </button>
              </div>
            )}
          </div>
        </div>
      </Link>
    </div>
  );
};

export default BookCard;


--------------------------------------------------
File End
--------------------------------------------------


components\layout\Footer.css
File type: .css
.footer {
  background: linear-gradient(
    135deg,
    var(--primary-dark) 0%,
    var(--primary) 100%
  );
  color: white;
  padding: var(--spacing-2xl) 0 var(--spacing-md);
  margin-top: auto;
}

.footer-content {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--spacing-xl);
  margin-bottom: var(--spacing-xl);
}

.footer-section h4 {
  color: white;
  margin-bottom: var(--spacing-md);
  font-size: 1.125rem;
}

.footer-logo {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  font-size: 1.5rem;
  font-weight: 800;
  margin-bottom: var(--spacing-md);
}

.footer-logo-icon {
  font-size: 2rem;
}

.footer-description {
  color: rgba(255, 255, 255, 0.8);
  line-height: 1.8;
  margin-bottom: var(--spacing-md);
}

.social-links {
  display: flex;
  gap: var(--spacing-sm);
}

.social-link {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: var(--radius-md);
  color: white;
  font-size: 1.25rem;
  transition: all 0.3s ease;
}

.social-link:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: translateY(-2px);
}

.footer-links {
  list-style: none;
}

.footer-links li {
  margin-bottom: var(--spacing-sm);
}

.footer-links a {
  color: rgba(255, 255, 255, 0.8);
  text-decoration: none;
  transition: color 0.2s ease;
  display: inline-block;
}

.footer-links a:hover {
  color: white;
  transform: translateX(-3px);
}

.footer-contact {
  list-style: none;
}

.footer-contact li {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  color: rgba(255, 255, 255, 0.8);
  margin-bottom: var(--spacing-md);
}

.footer-contact svg {
  font-size: 1.25rem;
}

.footer-bottom {
  text-align: center;
  padding-top: var(--spacing-lg);
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.footer-bottom p {
  color: rgba(255, 255, 255, 0.6);
  margin: 0;
}

@media (max-width: 768px) {
  .footer-content {
    grid-template-columns: 1fr;
  }

  .footer {
    padding: var(--spacing-xl) 0 var(--spacing-md);
  }
}


--------------------------------------------------
File End
--------------------------------------------------


components\layout\Footer.jsx
File type: .jsx
import React from "react";
import { Link } from "react-router-dom";
import {
  FiBook,
  FiMail,
  FiPhone,
  FiInstagram,
  FiTwitter,
} from "react-icons/fi";
import "./Footer.css";

const Footer = () => {
  return (
    <footer className="footer">
      <div className="container">
        <div className="footer-content">
          <div className="footer-section">
            <div className="footer-logo">
              <FiBook className="footer-logo-icon" />
              <span>کتاب‌مارکت</span>
            </div>
            <p className="footer-description">
              پلتفرم خرید و فروش کتاب‌های دست دوم - صرفه‌جویی اقتصادی و دسترسی
              راحت‌تر به کتاب‌ها
            </p>
            <div className="social-links">
              <a href="#" className="social-link">
                <FiInstagram />
              </a>
              <a href="#" className="social-link">
                <FiTwitter />
              </a>
            </div>
          </div>
          <div className="footer-section">
            <h4>دسترسی سریع</h4>
            <ul className="footer-links">
              <li>
                <Link to="/books">کتاب‌ها</Link>
              </li>
              <li>
                <Link to="/register">ثبت‌نام</Link>
              </li>
              <li>
                <Link to="/login">ورود</Link>
              </li>
              <li>
                <Link to="/support">پشتیبانی</Link>
              </li>
            </ul>
          </div>
          <div className="footer-section">
            <h4>راهنما و پشتیبانی</h4>
            <ul className="footer-links">
              <li>
                <Link to="/guide/buying">راهنمای خرید</Link>
              </li>
              <li>
                <Link to="/guide/selling">راهنمای فروش</Link>
              </li>
              <li>
                <Link to="/terms">قوانین و مقررات</Link>
              </li>
              <li>
                <Link to="/faq">سوالات متداول</Link>
              </li>
            </ul>
          </div>
          <div className="footer-section">
            <h4>تماس با ما</h4>
            <ul className="footer-contact">
              <li>
                <FiMail />
                <span>support@bookmarket.ir</span>
              </li>
              <li>
                <FiPhone />
                <span>۰۲۱-۱۲۳۴۵۶۷۸</span>
              </li>
            </ul>
          </div>
        </div>

        <div className="footer-bottom">
          <p>© ۱۴۰۴ کتاب‌مارکت. تمامی حقوق محفوظ است.</p>
        </div>
      </div>
    </footer>
  );
};

export default Footer;


--------------------------------------------------
File End
--------------------------------------------------


components\layout\Navbar.css
File type: .css
.navbar {
  position: sticky;
  top: 0;
  z-index: 1000;
  background: var(--bg-tertiary);
  border-bottom: 1px solid var(--border);
  transition: all 0.3s ease;
}

.navbar-scrolled {
  box-shadow: var(--shadow-md);
}

.navbar-content {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-md) 0;
  gap: var(--spacing-lg);
}

.navbar-logo {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  font-size: 1.5rem;
  font-weight: 800;
  color: var(--primary);
  text-decoration: none;
  transition: transform 0.2s ease;
}

.navbar-logo:hover {
  transform: scale(1.05);
}

.logo-icon {
  font-size: 2rem;
}

.logo-text {
  background: linear-gradient(
    135deg,
    var(--primary) 0%,
    var(--primary-dark) 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.navbar-menu {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  flex: 1;
  margin: 0 var(--spacing-xl);
}

.nav-link {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  padding: var(--spacing-sm) var(--spacing-md);
  color: var(--text-secondary);
  font-weight: 500;
  text-decoration: none;
  border-radius: var(--radius-md);
  transition: all 0.2s ease;
  position: relative;
}

.nav-link:hover {
  color: var(--primary);
  background: rgba(44, 95, 45, 0.05);
}

.nav-link.active {
  color: var(--primary);
  font-weight: 600;
}

.nav-link.active::after {
  content: "";
  position: absolute;
  bottom: -12px;
  left: 50%;
  transform: translateX(-50%);
  width: 30px;
  height: 3px;
  background: var(--primary);
  border-radius: 2px;
}

.navbar-actions {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
}

.icon-button {
  position: relative;
  padding: var(--spacing-sm);
  color: var(--text-secondary);
  font-size: 1.25rem;
  background: none;
  border: none;
  cursor: pointer;
  border-radius: var(--radius-md);
  transition: all 0.2s ease;
}

.icon-button:hover {
  color: var(--primary);
  background: rgba(44, 95, 45, 0.05);
}

.notification-badge {
  position: absolute;
  top: 0;
  right: 0;
  background: var(--accent);
  color: white;
  font-size: 0.65rem;
  font-weight: 700;
  padding: 2px 5px;
  border-radius: 10px;
  min-width: 18px;
  text-align: center;
}

.user-menu {
  position: relative;
}

.user-button {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  background: var(--bg-secondary);
  border: 2px solid var(--border);
  border-radius: var(--radius-md);
  color: var(--text-primary);
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.user-button:hover {
  border-color: var(--primary);
  background: var(--bg-tertiary);
}

.user-dropdown {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  background: var(--bg-tertiary);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);
  min-width: 200px;
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all 0.2s ease;
  z-index: 100;
}

.user-menu:hover .user-dropdown {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.user-dropdown a,
.user-dropdown button {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  width: 100%;
  padding: var(--spacing-md);
  color: var(--text-primary);
  text-decoration: none;
  background: none;
  border: none;
  text-align: right;
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.2s ease;
}

.user-dropdown a:hover,
.user-dropdown button:hover {
  background: var(--bg-secondary);
}

.logout-btn {
  color: var(--error) !important;
  border-top: 1px solid var(--border);
}

.mobile-menu-toggle {
  display: none;
  padding: var(--spacing-sm);
  font-size: 1.5rem;
  color: var(--text-primary);
  background: none;
  border: none;
  cursor: pointer;
}

.mobile-menu {
  display: none;
}

.desktop-menu {
  display: flex;
}

@media (max-width: 968px) {
  .desktop-menu {
    display: none;
  }

  .mobile-menu-toggle {
    display: block;
  }

  .mobile-menu {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
    padding: var(--spacing-md) 0;
    border-top: 1px solid var(--border);
    margin-top: var(--spacing-md);
  }

  .mobile-nav-link {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md);
    color: var(--text-primary);
    text-decoration: none;
    border-radius: var(--radius-md);
    font-weight: 500;
    transition: background 0.2s ease;
  }

  .mobile-nav-link:hover {
    background: var(--bg-secondary);
  }

  .navbar-actions .btn {
    display: none;
  }
}

@media (max-width: 480px) {
  .navbar-logo {
    font-size: 1.25rem;
  }

  .logo-text {
    display: none;
  }
}


--------------------------------------------------
File End
--------------------------------------------------


components\layout\Navbar.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { Link, useNavigate, useLocation } from "react-router-dom";
import { useAuth } from "../../context/AuthContext";
import {
  FiBook,
  FiUser,
  FiLogIn,
  FiLogOut,
  FiHeart,
  FiShoppingCart,
  FiBell,
  FiMenu,
  FiX,
  FiPackage,
  FiSettings,
} from "react-icons/fi";
import api from "../../services/api";
import "./Navbar.css";

const Navbar = () => {
  const { user, logout, isAuthenticated, isAdmin, isSeller } = useAuth();
  const navigate = useNavigate();
  const location = useLocation();
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
  const [notificationCount, setNotificationCount] = useState(0);
  const [scrolled, setScrolled] = useState(false);

  useEffect(() => {
    const handleScroll = () => {
      setScrolled(window.scrollY > 20);
    };
    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, []);

  useEffect(() => {
    if (isAuthenticated) {
      fetchNotificationCount();
    }
  }, [isAuthenticated]);

  const fetchNotificationCount = async () => {
    try {
      const response = await api.get("/notifications/");
      const unread = response.data.filter((n) => !n.is_read).length;
      setNotificationCount(unread);
    } catch (error) {
      console.error("Error fetching notifications:", error);
    }
  };

  const handleLogout = () => {
    logout();
    navigate("/");
    setMobileMenuOpen(false);
  };

  const isActivePath = (path) => location.pathname === path;

  return (
    <nav className={`navbar ${scrolled ? "navbar-scrolled" : ""}`}>
      <div className="container">
        <div className="navbar-content">
          <Link to="/" className="navbar-logo">
            <FiBook className="logo-icon" />
            <span className="logo-text">کتاب‌مارکت</span>
          </Link>

          <div className="navbar-menu desktop-menu">
            <Link
              to="/books"
              className={`nav-link ${isActivePath("/books") ? "active" : ""}`}
            >
              کتاب‌ها
            </Link>

            {isAuthenticated && (
              <>
                <Link
                  to="/favorites"
                  className={`nav-link ${isActivePath("/favorites") ? "active" : ""}`}
                >
                  <FiHeart /> علاقه‌مندی‌ها
                </Link>
                <Link
                  to="/my-orders"
                  className={`nav-link ${isActivePath("/my-orders") ? "active" : ""}`}
                >
                  <FiShoppingCart /> سفارش‌ها
                </Link>
              </>
            )}

            {isSeller() && (
              <Link
                to="/seller/inventory"
                className={`nav-link ${isActivePath("/seller/inventory") ? "active" : ""}`}
              >
                <FiPackage /> انبار من
              </Link>
            )}

            {isAdmin() && (
              <Link
                to="/admin"
                className={`nav-link ${isActivePath("/admin") ? "active" : ""}`}
              >
                <FiSettings /> پنل مدیریت
              </Link>
            )}
          </div>

          <div className="navbar-actions">
            {isAuthenticated ? (
              <>
                <Link to="/notifications" className="icon-button">
                  <FiBell />
                  {notificationCount > 0 && (
                    <span className="notification-badge">
                      {notificationCount}
                    </span>
                  )}
                </Link>

                <div className="user-menu">
                  <button className="user-button">
                    <FiUser />
                    <span>{user?.username}</span>
                  </button>
                  <div className="user-dropdown">
                    <Link
                      to="/profile"
                      onClick={() => setMobileMenuOpen(false)}
                    >
                      <FiUser /> پروفایل
                    </Link>
                    <Link
                      to="/support"
                      onClick={() => setMobileMenuOpen(false)}
                    >
                      پشتیبانی
                    </Link>
                    <button onClick={handleLogout} className="logout-btn">
                      <FiLogOut /> خروج
                    </button>
                  </div>
                </div>
              </>
            ) : (
              <>
                <Link to="/login" className="btn btn-secondary btn-small">
                  <FiLogIn /> ورود
                </Link>
                <Link to="/register" className="btn btn-primary btn-small">
                  ثبت‌نام
                </Link>
              </>
            )}

            <button
              className="mobile-menu-toggle"
              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
            >
              {mobileMenuOpen ? <FiX /> : <FiMenu />}
            </button>
          </div>
        </div>

        {mobileMenuOpen && (
          <div className="mobile-menu">
            <Link
              to="/books"
              onClick={() => setMobileMenuOpen(false)}
              className="mobile-nav-link"
            >
              کتاب‌ها
            </Link>

            {isAuthenticated && (
              <>
                <Link
                  to="/favorites"
                  onClick={() => setMobileMenuOpen(false)}
                  className="mobile-nav-link"
                >
                  <FiHeart /> علاقه‌مندی‌ها
                </Link>
                <Link
                  to="/my-orders"
                  onClick={() => setMobileMenuOpen(false)}
                  className="mobile-nav-link"
                >
                  <FiShoppingCart /> سفارش‌ها
                </Link>
              </>
            )}

            {isSeller() && (
              <Link
                to="/seller/inventory"
                onClick={() => setMobileMenuOpen(false)}
                className="mobile-nav-link"
              >
                <FiPackage /> انبار من
              </Link>
            )}

            {isAdmin() && (
              <Link
                to="/admin"
                onClick={() => setMobileMenuOpen(false)}
                className="mobile-nav-link"
              >
                <FiSettings /> پنل مدیریت
              </Link>
            )}
          </div>
        )}
      </div>
    </nav>
  );
};

export default Navbar;


--------------------------------------------------
File End
--------------------------------------------------


context\AuthContext.jsx
File type: .jsx
import React, { createContext, useState, useContext, useEffect } from "react";
import api from "../services/api";

const AuthContext = createContext();

export const useAuth = () => {
  const context = useContext(AuthContext);
  if (!context) {
    throw new Error("useAuth must be used within AuthProvider");
  }
  return context;
};

export const AuthProvider = ({ children }) => {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);
  const [token, setToken] = useState(localStorage.getItem("token"));

  useEffect(() => {
    if (token) {
      loadUser();
    } else {
      setLoading(false);
    }
  }, [token]);

  const loadUser = async () => {
    try {
      const response = await api.get("/profile/");
      setUser(response.data);
    } catch (error) {
      console.error("Failed to load user:", error);
      logout();
    } finally {
      setLoading(false);
    }
  };

  const login = async (username, password) => {
    try {
      console.log("Attempting login with:", username); // اضافه کنید

      const response = await api.post("/token/", { username, password });
      console.log("Login response:", response.data); // اضافه کنید

      const { access, refresh } = response.data;

      localStorage.setItem("token", access);
      localStorage.setItem("refreshToken", refresh);
      setToken(access);

      const userResponse = await api.get("/profile/");
      console.log("User profile:", userResponse.data); // اضافه کنید

      setUser(userResponse.data);

      return { success: true };
    } catch (error) {
      console.error("Login error details:", error); // اضافه کنید
      console.error("Error response:", error.response); // اضافه کنید

      return {
        success: false,
        error: error.response?.data?.detail || "خطا در ورود به سیستم",
      };
    }
  };

  const register = async (userData) => {
    try {
      await api.post("/register/", userData);
      return { success: true };
    } catch (error) {
      return {
        success: false,
        error: error.response?.data || "خطا در ثبت‌نام",
      };
    }
  };

  const logout = () => {
    localStorage.removeItem("token");
    localStorage.removeItem("refreshToken");
    setToken(null);
    setUser(null);
  };

  const updateUser = (updatedData) => {
    setUser((prev) => ({ ...prev, ...updatedData }));
  };

  const isAdmin = () => {
    return user?.role === "admin" || user?.is_staff === true;
  };

  const isSeller = () => {
    return user?.role === "seller" || isAdmin();
  };

  const value = {
    user,
    token,
    loading,
    login,
    register,
    logout,
    updateUser,
    isAdmin,
    isSeller,
    isAuthenticated: !!token && !!user,
  };

  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;
};


--------------------------------------------------
File End
--------------------------------------------------


pages\BookDetailPage.css
File type: .css
.book-detail-page {
  min-height: 100vh;
  padding: var(--spacing-xl) 0;
}

.back-button {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  background: var(--bg-tertiary);
  border: 2px solid var(--border);
  border-radius: var(--radius-md);
  color: var(--text-primary);
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  margin-bottom: var(--spacing-xl);
}

.back-button:hover {
  border-color: var(--primary);
  color: var(--primary);
}

.book-detail-content {
  display: grid;
  grid-template-columns: 1fr 1.5fr;
  gap: var(--spacing-2xl);
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-2xl);
  box-shadow: var(--shadow-md);
}

.book-image-section {
  position: relative;
}

.book-image-section img {
  width: 100%;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
}

.book-info-section {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xl);
}

.book-header h1 {
  font-size: 2.5rem;
  margin-bottom: var(--spacing-sm);
  color: var(--text-primary);
}

.author {
  font-size: 1.25rem;
  color: var(--text-secondary);
}

.book-badges {
  display: flex;
  gap: var(--spacing-sm);
  flex-wrap: wrap;
}

.price-section {
  padding: var(--spacing-lg);
  background: var(--bg-secondary);
  border-radius: var(--radius-md);
}

.price {
  display: flex;
  align-items: baseline;
  gap: var(--spacing-sm);
}

.price-amount {
  font-size: 3rem;
  font-weight: 800;
  color: var(--primary);
}

.price-currency {
  font-size: 1.25rem;
  color: var(--text-secondary);
}

.description-section h3,
.seller-section h3 {
  font-size: 1.5rem;
  margin-bottom: var(--spacing-md);
  color: var(--text-primary);
}

.description-section p {
  color: var(--text-secondary);
  line-height: 1.8;
  font-size: 1.125rem;
}

.seller-info {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.seller-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-md);
  background: var(--bg-secondary);
  border-radius: var(--radius-md);
  font-size: 1.125rem;
}

.seller-item svg {
  font-size: 1.5rem;
  color: var(--primary);
}

.action-buttons {
  display: flex;
  gap: var(--spacing-md);
  /* padding-top: var(--spacing-xl);
  border-top: 1px solid var(--border); */
}

@media (max-width: 968px) {
  .book-detail-content {
    grid-template-columns: 1fr;
  }

  .book-header h1 {
    font-size: 2rem;
  }

  .price-amount {
    font-size: 2.5rem;
  }
}

@media (max-width: 480px) {
  .action-buttons {
    flex-direction: column;
  }

  .action-buttons .btn {
    width: 100%;
  }
}


--------------------------------------------------
File End
--------------------------------------------------


pages\BookDetailPage.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { useParams, useNavigate } from "react-router-dom";
import { toast } from "react-toastify";
import {
  FiHeart,
  FiShoppingCart,
  FiArrowRight,
  FiUser,
  FiPhone,
} from "react-icons/fi";
import api from "../services/api";
import { useAuth } from "../context/AuthContext";
import "./BookDetailPage.css";

const BookDetailPage = () => {
  const { id } = useParams();
  const navigate = useNavigate();
  const { isAuthenticated } = useAuth();
  const [book, setBook] = useState(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchBook();
  }, [id]);

  const fetchBook = async () => {
    try {
      const response = await api.get(`/books/${id}/`);
      setBook(response.data);
    } catch (error) {
      toast.error("کتاب یافت نشد");
      navigate("/books");
    } finally {
      setLoading(false);
    }
  };
  // فقط این بخش handlePurchase را تغییر دهید:

  const handlePurchase = async () => {
    if (!isAuthenticated) {
      toast.info("لطفا ابتدا وارد شوید");
      navigate("/login");
      return;
    }

    if (book.status !== "available") {
      toast.error("این کتاب در حال حاضر موجود نیست");
      return;
    }

    try {
      const response = await api.post("/orders/", { book: book.id });
      toast.success("خرید با موفقیت انجام شد");
      navigate("/my-orders");
    } catch (error) {
      toast.error(error.response?.data?.detail || "خطا در خرید");
    }
  };
  const handleAddToFavorites = async () => {
    if (!isAuthenticated) {
      toast.info("لطفا ابتدا وارد شوید");
      return;
    }

    try {
      await api.post("/favorites/", { book: book.id });
      toast.success("به علاقه‌مندی‌ها اضافه شد");
    } catch (error) {
      toast.error("خطا در افزودن به علاقه‌مندی‌ها");
    }
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading"></div>
      </div>
    );
  }

  if (!book) return null;

  const defaultImage =
    "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMzAwIiBoZWlnaHQ9IjQwMCIgZmlsbD0iI2Y4ZjZmMSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjAiIGZpbGw9IiM4ZTg5ODUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7aqduM2Kgg2qnYqtin2Yo8L3RleHQ+PC9zdmc+";

  return (
    <div className="book-detail-page">
      <div className="container">
        <button onClick={() => navigate(-1)} className="back-button">
          <FiArrowRight /> بازگشت
        </button>

        <div className="book-detail-content">
          <div className="book-image-section">
            <img
              src={book.image || defaultImage}
              alt={book.title}
              onError={(e) => (e.target.src = defaultImage)}
            />
          </div>

          <div className="book-info-section">
            <div className="book-header">
              <h1>{book.title}</h1>
              <p className="author">نویسنده: {book.author}</p>
            </div>

            <div className="book-badges">
              <span className="badge badge-info">{book.category_name}</span>
              <span className="badge">
                {book.condition === "new" ? "نو" : "دست دوم"}
              </span>
              <span
                className={`badge ${
                  book.status === "available"
                    ? "badge-success"
                    : book.status === "sold"
                      ? "badge-error"
                      : "badge-warning"
                }`}
              >
                {book.status === "available"
                  ? "موجود"
                  : book.status === "sold"
                    ? "فروخته شده"
                    : "در انتظار تایید"}
              </span>
            </div>

            <div className="price-section">
              <div className="price">
                <span className="price-amount">
                  {Number(book.price).toLocaleString("fa-IR")}
                </span>
                <span className="price-currency">تومان</span>
              </div>
            </div>

            <div className="description-section">
              <h3>توضیحات</h3>
              <p>{book.description}</p>
            </div>

            <div className="seller-section">
              <h3>اطلاعات فروشنده</h3>
              <div className="seller-info">
                <div className="seller-item">
                  <FiUser />
                  <span>{book.seller_name}</span>
                </div>
                <div className="seller-item">
                  <FiPhone />
                  <span>{book.seller_contact}</span>
                </div>
              </div>
            </div>

            <div className="action-buttons">
              {book.status === "available" ? (
                <>
                  <button
                    onClick={handlePurchase}
                    className="btn btn-primary btn-large"
                  >
                    <FiShoppingCart /> خرید کتاب
                  </button>
                  <button
                    onClick={handleAddToFavorites}
                    className="btn btn-secondary btn-large"
                  >
                    <FiHeart /> افزودن به علاقه‌مندی‌ها
                  </button>
                </>
              ) : (
                <button className="btn btn-secondary btn-large" disabled>
                  {book.status === "sold" ? "فروخته شده" : "در انتظار تأیید"}
                </button>
              )}
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default BookDetailPage;


--------------------------------------------------
File End
--------------------------------------------------


pages\Bookspage.css
File type: .css
.books-page {
  min-height: 100vh;
  padding: var(--spacing-xl) 0;
}

.page-header {
  text-align: center;
  margin-bottom: var(--spacing-2xl);
}

.page-header h1 {
  font-size: 2.5rem;
  margin-bottom: var(--spacing-sm);
}

.page-header p {
  color: var(--text-secondary);
  font-size: 1.125rem;
}

.filters-section {
  background: var(--bg-tertiary);
  padding: var(--spacing-xl);
  border-radius: var(--radius-lg);
  margin-bottom: var(--spacing-xl);
  box-shadow: var(--shadow-sm);
}

.search-bar {
  position: relative;
  margin-bottom: var(--spacing-lg);
}

.search-icon {
  position: absolute;
  right: var(--spacing-md);
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-muted);
  font-size: 1.25rem;
}

.search-bar input {
  padding-right: 3rem;
}

.filters-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--spacing-md);
  margin-bottom: var(--spacing-md);
}

.price-filter {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
}

.price-filter input {
  flex: 1;
}

.price-filter span {
  color: var(--text-secondary);
}

.results-section {
  min-height: 400px;
}

.results-header {
  margin-bottom: var(--spacing-lg);
}

.results-header p {
  color: var(--text-secondary);
  font-weight: 600;
}

.books-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--spacing-lg);
}

.no-results {
  text-align: center;
  padding: var(--spacing-2xl);
  color: var(--text-muted);
}

@media (max-width: 1200px) {
  .books-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (max-width: 768px) {
  .books-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 480px) {
  .books-grid {
    grid-template-columns: 1fr;
  }

  .filters-grid {
    grid-template-columns: 1fr;
  }

  .price-filter {
    flex-direction: column;
  }
}


--------------------------------------------------
File End
--------------------------------------------------


pages\Bookspage.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { FiSearch } from "react-icons/fi";
import api from "../services/api";
import BookCard from "../components/BookCard/Bookcard";
import "./BooksPage.css";

const BooksPage = () => {
  const [books, setBooks] = useState([]);
  const [categories, setCategories] = useState([]);
  const [loading, setLoading] = useState(true);
  const [filters, setFilters] = useState({
    search: "",
    category: "",
    condition: "",
    status: "available",
    min_price: "",
    max_price: "",
    ordering: "-created_at",
  });

  useEffect(() => {
    fetchCategories();
  }, []);

  useEffect(() => {
    fetchBooks();
  }, [filters]);

  const fetchCategories = async () => {
    try {
      const response = await api.get("/categories/");
      setCategories(response.data);
    } catch (error) {
      console.error("Error fetching categories:", error);
    }
  };

  const fetchBooks = async () => {
    try {
      setLoading(true);
      const params = new URLSearchParams();

      if (filters.search) params.append("search", filters.search);
      if (filters.category) params.append("category", filters.category);
      if (filters.condition) params.append("condition", filters.condition);
      if (filters.status) params.append("status", filters.status);
      if (filters.min_price) params.append("price__gte", filters.min_price);
      if (filters.max_price) params.append("price__lte", filters.max_price);
      if (filters.ordering) params.append("ordering", filters.ordering);

      const response = await api.get(`/books/?${params}`);
      setBooks(Array.isArray(response.data) ? response.data : []);
    } catch (error) {
      console.error("Error fetching books:", error);
      setBooks([]);
    } finally {
      setLoading(false);
    }
  };

  const handleFilterChange = (key, value) => {
    setFilters((prev) => ({ ...prev, [key]: value }));
  };

  const clearFilters = () => {
    setFilters({
      search: "",
      category: "",
      condition: "",
      status: "available",
      min_price: "",
      max_price: "",
      ordering: "-created_at",
    });
  };

  return (
    <div className="books-page">
      <div className="container">
        <div className="page-header">
          <h1>کتاب‌ها</h1>
          <p>مجموعه کامل کتاب‌های دست دوم</p>
        </div>

        <div className="filters-section">
          <div className="search-bar">
            <FiSearch className="search-icon" />
            <input
              type="text"
              placeholder="جستجوی کتاب یا نویسنده..."
              value={filters.search}
              onChange={(e) => handleFilterChange("search", e.target.value)}
            />
          </div>

          <div className="filters-grid">
            <select
              value={filters.category}
              onChange={(e) => handleFilterChange("category", e.target.value)}
            >
              <option value="">همه دسته‌بندی‌ها</option>
              {categories.map((cat) => (
                <option key={cat.id} value={cat.id}>
                  {cat.name}
                </option>
              ))}
            </select>

            <select
              value={filters.condition}
              onChange={(e) => handleFilterChange("condition", e.target.value)}
            >
              <option value="">همه وضعیت‌ها</option>
              <option value="new">نو</option>
              <option value="used">دست دوم</option>
            </select>

            <select
              value={filters.ordering}
              onChange={(e) => handleFilterChange("ordering", e.target.value)}
            >
              <option value="-created_at">جدیدترین</option>
              <option value="price">ارزان‌ترین</option>
              <option value="-price">گران‌ترین</option>
              <option value="title">الفبایی</option>
            </select>

            <button
              onClick={clearFilters}
              className="btn btn-secondary btn-small"
            >
              پاک کردن فیلترها
            </button>
          </div>

          <div className="price-filter">
            <input
              type="number"
              placeholder="حداقل قیمت"
              value={filters.min_price}
              onChange={(e) => handleFilterChange("min_price", e.target.value)}
            />
            <span>تا</span>
            <input
              type="number"
              placeholder="حداکثر قیمت"
              value={filters.max_price}
              onChange={(e) => handleFilterChange("max_price", e.target.value)}
            />
          </div>
        </div>

        <div className="results-section">
          <div className="results-header">
            <p>{books.length} کتاب یافت شد</p>
          </div>

          {loading ? (
            <div className="loading-container">
              <div className="loading"></div>
            </div>
          ) : books.length > 0 ? (
            <div className="books-grid">
              {books.map((book) => (
                <BookCard key={book.id} book={book} />
              ))}
            </div>
          ) : (
            <div className="no-results">
              <p>کتابی یافت نشد</p>
            </div>
          )}
        </div>
      </div>
    </div>
  );
};

export default BooksPage;


--------------------------------------------------
File End
--------------------------------------------------


pages\Homepage.css
File type: .css
.home-page {
  min-height: 100vh;
}

.hero-section {
  background: linear-gradient(
    135deg,
    rgba(44, 95, 45, 0.03) 0%,
    rgba(212, 165, 116, 0.03) 100%
  );
  padding: var(--spacing-2xl) 0;
  overflow: hidden;
}

.hero-content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--spacing-2xl);
  align-items: center;
  min-height: 500px;
}

.hero-text {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

.hero-title {
  font-size: 3.5rem;
  font-weight: 800;
  line-height: 1.2;
  color: var(--text-primary);
  margin-bottom: var(--spacing-md);
}

.highlight {
  background: linear-gradient(
    135deg,
    var(--primary) 0%,
    var(--primary-dark) 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  display: block;
}

.hero-description {
  font-size: 1.25rem;
  color: var(--text-secondary);
  line-height: 1.8;
  margin-bottom: var(--spacing-lg);
}

.hero-actions {
  display: flex;
  gap: var(--spacing-md);
  flex-wrap: wrap;
}

.hero-stats {
  display: flex;
  gap: var(--spacing-2xl);
  margin-top: var(--spacing-xl);
  padding-top: var(--spacing-xl);
  border-top: 1px solid var(--border);
}

.stat-item {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
}

.stat-number {
  font-size: 2.5rem;
  font-weight: 800;
  color: var(--primary);
  line-height: 1;
}

.stat-label {
  font-size: 0.875rem;
  color: var(--text-muted);
  font-weight: 500;
}

.hero-image-wrapper {
  position: relative;
  border-radius: var(--radius-xl);
  overflow: hidden;
  box-shadow: var(--shadow-lg);
  aspect-ratio: 4/3;
}

.hero-image-wrapper img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.hero-image-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    45deg,
    rgba(44, 95, 45, 0.3),
    rgba(212, 165, 116, 0.2)
  );
}

.features-section {
  padding: var(--spacing-2xl) 0;
  background: var(--bg-tertiary);
}

.section-title {
  font-size: 2.5rem;
  margin-bottom: var(--spacing-2xl);
  color: var(--text-primary);
}

.text-center {
  text-align: center;
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--spacing-xl);
}

.feature-card {
  text-align: center;
  padding: var(--spacing-2xl) var(--spacing-lg);
  background: var(--bg-primary);
  border-radius: var(--radius-lg);
  border: 1px solid var(--border);
  transition: all 0.3s ease;
}

.feature-card:hover {
  transform: translateY(-8px);
  box-shadow: var(--shadow-lg);
  border-color: var(--primary-light);
}

.feature-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 80px;
  height: 80px;
  background: linear-gradient(
    135deg,
    var(--primary) 0%,
    var(--primary-dark) 100%
  );
  color: white;
  border-radius: var(--radius-xl);
  font-size: 2.5rem;
  margin: 0 auto var(--spacing-lg);
  box-shadow: var(--shadow-md);
}

.feature-title {
  font-size: 1.5rem;
  margin-bottom: var(--spacing-md);
  color: var(--text-primary);
}

.feature-description {
  color: var(--text-secondary);
  line-height: 1.7;
}

.featured-books-section {
  padding: var(--spacing-2xl) 0;
}

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-xl);
}

.view-all-link {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  color: var(--primary);
  font-weight: 600;
  transition: gap 0.2s ease;
}

.view-all-link:hover {
  gap: var(--spacing-md);
}

.books-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--spacing-lg);
}

.cta-section {
  padding: var(--spacing-2xl) 0;
  background: linear-gradient(
    135deg,
    var(--primary-dark) 0%,
    var(--primary) 100%
  );
}

.cta-content {
  text-align: center;
  color: white;
  max-width: 700px;
  margin: 0 auto;
  padding: var(--spacing-2xl) 0;
}

.cta-title {
  font-size: 2.5rem;
  margin-bottom: var(--spacing-md);
  color: white;
}

.cta-description {
  font-size: 1.25rem;
  margin-bottom: var(--spacing-2xl);
  color: rgba(255, 255, 255, 0.9);
}

@media (max-width: 1200px) {
  .books-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (max-width: 968px) {
  .hero-content {
    grid-template-columns: 1fr;
  }

  .hero-title {
    font-size: 2.5rem;
  }

  .features-grid {
    grid-template-columns: 1fr;
  }

  .books-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .hero-title {
    font-size: 2rem;
  }

  .hero-description {
    font-size: 1rem;
  }

  .section-title {
    font-size: 2rem;
  }
}

@media (max-width: 480px) {
  .books-grid {
    grid-template-columns: 1fr;
  }

  .hero-stats {
    flex-direction: column;
    gap: var(--spacing-lg);
  }
}


--------------------------------------------------
File End
--------------------------------------------------


pages\Homepage.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { Link } from "react-router-dom";
import { motion } from "framer-motion";
import {
  FiSearch,
  FiBook,
  FiDollarSign,
  FiUsers,
  FiArrowLeft,
} from "react-icons/fi";
import api from "../services/api";
import BookCard from "../components/BookCard/Bookcard";
import "./HomePage.css";

const HomePage = () => {
  const [featuredBooks, setFeaturedBooks] = useState([]);
  const [loading, setLoading] = useState(true);
  const [stats, setStats] = useState({
    totalBooks: 0,
    activeUsers: 0,
  });

  useEffect(() => {
    fetchFeaturedBooks();
    fetchStats();
  }, []);

  const fetchFeaturedBooks = async () => {
    try {
      const response = await api.get("/books/?ordering=-created_at");
      setFeaturedBooks(response.data.slice(0, 8));
    } catch (error) {
      console.error("Error fetching books:", error);
    } finally {
      setLoading(false);
    }
  };

  const fetchStats = async () => {
    try {
      const response = await api.get("/admin-reports/");
      setStats({
        totalBooks: response.data.total_books || 0,
        activeUsers: response.data.active_users || 0,
      });
    } catch (error) {
      // Stats not critical
    }
  };

  const features = [
    {
      icon: <FiBook />,
      title: "کتاب‌های متنوع",
      description: "دسترسی به هزاران کتاب دست دوم در دسته‌بندی‌های مختلف",
    },
    {
      icon: <FiDollarSign />,
      title: "قیمت مناسب",
      description: "خرید و فروش کتاب با قیمت‌های عادلانه و مقرون به صرفه",
    },
    {
      icon: <FiUsers />,
      title: "جامعه فعال",
      description: "عضویت در جامعه‌ای از کتابخوانان و فروشندگان معتبر",
    },
  ];

  return (
    <div className="home-page">
      <section className="hero-section">
        <div className="container">
          <div className="hero-content">
            <motion.div
              initial={{ opacity: 0, y: 30 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.6 }}
              className="hero-text"
            >
              <h1 className="hero-title">
                خرید و فروش
                <span className="highlight"> کتاب‌های دست دوم</span>
              </h1>
              <p className="hero-description">
                با کتاب‌مارکت به راحتی کتاب‌های مورد نظر خود را پیدا کنید یا
                کتاب‌های خود را به فروش برسانید. صرفه‌جویی اقتصادی و دسترسی آسان
                به دنیای کتاب.
              </p>
              <div className="hero-actions">
                <Link to="/books" className="btn btn-primary btn-large">
                  مشاهده کتاب‌ها
                  <FiArrowLeft />
                </Link>
                <Link to="/register" className="btn btn-secondary btn-large">
                  ثبت‌نام رایگان
                </Link>
              </div>

              <div className="hero-stats">
                <div className="stat-item">
                  <span className="stat-number">
                    {stats.totalBooks.toLocaleString("fa-IR")}
                  </span>
                  <span className="stat-label">کتاب موجود</span>
                </div>
                <div className="stat-item">
                  <span className="stat-number">
                    {stats.activeUsers.toLocaleString("fa-IR")}
                  </span>
                  <span className="stat-label">کاربر فعال</span>
                </div>
              </div>
            </motion.div>

            <motion.div
              initial={{ opacity: 0, scale: 0.9 }}
              animate={{ opacity: 1, scale: 1 }}
              transition={{ duration: 0.6, delay: 0.2 }}
              className="hero-image"
            >
              <div className="hero-image-wrapper">
                <img
                  src="https://live.staticflickr.com/4006/4516917880_7d78593163_b.jpg"
                  alt="Books"
                />
                <div className="hero-image-overlay"></div>
              </div>
            </motion.div>
          </div>
        </div>
      </section>

      <section className="features-section">
        <div className="container">
          <motion.h2
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="section-title text-center"
          >
            چرا کتاب‌مارکت؟
          </motion.h2>

          <div className="features-grid">
            {features.map((feature, index) => (
              <motion.div
                key={index}
                initial={{ opacity: 0, y: 30 }}
                whileInView={{ opacity: 1, y: 0 }}
                viewport={{ once: true }}
                transition={{ delay: index * 0.1 }}
                className="feature-card"
              >
                <div className="feature-icon">{feature.icon}</div>
                <h3 className="feature-title">{feature.title}</h3>
                <p className="feature-description">{feature.description}</p>
              </motion.div>
            ))}
          </div>
        </div>
      </section>

      <section className="featured-books-section">
        <div className="container">
          <div className="section-header">
            <h2 className="section-title">جدیدترین کتاب‌ها</h2>
            <Link to="/books" className="view-all-link">
              مشاهده همه
              <FiArrowLeft />
            </Link>
          </div>

          {loading ? (
            <div className="loading-container">
              <div className="loading"></div>
            </div>
          ) : (
            <div className="books-grid">
              {featuredBooks.map((book) => (
                <BookCard key={book.id} book={book} />
              ))}
            </div>
          )}
        </div>
      </section>

      <section className="cta-section">
        <div className="container">
          <motion.div
            initial={{ opacity: 0, scale: 0.95 }}
            whileInView={{ opacity: 1, scale: 1 }}
            viewport={{ once: true }}
            className="cta-content"
          >
            <h2 className="cta-title">آماده شروع هستید؟</h2>
            <p className="cta-description">
              همین حالا به جامعه کتاب‌مارکت بپیوندید و از مزایای خرید و فروش
              کتاب بهره‌مند شوید
            </p>
            <Link to="/register" className="btn btn-accent btn-large">
              عضویت رایگان
            </Link>
          </motion.div>
        </div>
      </section>
    </div>
  );
};

export default HomePage;


--------------------------------------------------
File End
--------------------------------------------------


pages\Admin\AdminBooksPage.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { toast } from "react-toastify";
import { FiCheck, FiX, FiSearch } from "react-icons/fi";
import api from "../../services/api";
import "./AdminPages.css";

const AdminBooksPage = () => {
  const [books, setBooks] = useState([]);
  const [filteredBooks, setFilteredBooks] = useState([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState("");
  const [filterStatus, setFilterStatus] = useState("all");

  useEffect(() => {
    fetchBooks();
  }, []);

  useEffect(() => {
    let filtered = books;

    if (searchTerm) {
      filtered = filtered.filter(
        (book) =>
          book.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
          book.author.toLowerCase().includes(searchTerm.toLowerCase()),
      );
    }

    if (filterStatus !== "all") {
      if (filterStatus === "pending") {
        filtered = filtered.filter((book) => !book.is_approved);
      } else if (filterStatus === "approved") {
        filtered = filtered.filter((book) => book.is_approved);
      }
    }

    setFilteredBooks(filtered);
  }, [searchTerm, filterStatus, books]);

  const fetchBooks = async () => {
    try {
      const response = await api.get("/books/");
      setBooks(response.data);
      setFilteredBooks(response.data);
    } catch (error) {
      toast.error("خطا در دریافت کتاب‌ها");
    } finally {
      setLoading(false);
    }
  };

  const handleApprove = async (bookId) => {
    try {
      await api.post(`/books/${bookId}/approve/`);
      toast.success("کتاب تایید شد");
      fetchBooks();
    } catch (error) {
      toast.error("خطا در تایید کتاب");
    }
  };

  const handleReject = async (bookId) => {
    try {
      await api.post(`/books/${bookId}/reject/`);
      toast.success("کتاب رد شد");
      fetchBooks();
    } catch (error) {
      toast.error("خطا در رد کتاب");
    }
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading"></div>
      </div>
    );
  }

  return (
    <div className="admin-page">
      <div className="container">
        <div className="page-header">
          <h1>مدیریت کتاب‌ها</h1>
          <p>تایید و مدیریت کتاب‌های ثبت شده</p>
        </div>

        <div className="admin-content">
          <div className="filters-section">
            <div className="search-bar">
              <FiSearch className="search-icon" />
              <input
                type="text"
                placeholder="جستجو بر اساس عنوان یا نویسنده..."
                value={searchTerm}
                onChange={(e) => setSearchTerm(e.target.value)}
              />
            </div>

            <select
              value={filterStatus}
              onChange={(e) => setFilterStatus(e.target.value)}
              className="filter-select"
            >
              <option value="all">همه کتاب‌ها</option>
              <option value="pending">در انتظار تایید</option>
              <option value="approved">تایید شده</option>
            </select>
          </div>

          <div className="admin-table">
            <table>
              <thead>
                <tr>
                  <th>تصویر</th>
                  <th>عنوان</th>
                  <th>نویسنده</th>
                  <th>فروشنده</th>
                  <th>قیمت</th>
                  <th>وضعیت</th>
                  <th>عملیات</th>
                </tr>
              </thead>
              <tbody>
                {filteredBooks.map((book) => (
                  <tr key={book.id}>
                    <td>
                      <img
                        src={book.image || "/default-book.png"}
                        alt={book.title}
                        className="book-thumb"
                      />
                    </td>
                    <td>{book.title}</td>
                    <td>{book.author}</td>
                    <td>{book.seller_name}</td>
                    <td>{Number(book.price).toLocaleString("fa-IR")} تومان</td>
                    <td>
                      {book.is_approved ? (
                        <span className="badge badge-success">تایید شده</span>
                      ) : (
                        <span className="badge badge-warning">در انتظار</span>
                      )}
                    </td>
                    <td>
                      <div className="action-buttons">
                        {!book.is_approved ? (
                          <>
                            <button
                              onClick={() => handleApprove(book.id)}
                              className="btn-icon approve"
                              title="تایید"
                            >
                              <FiCheck />
                            </button>
                            <button
                              onClick={() => handleReject(book.id)}
                              className="btn-icon delete"
                              title="رد"
                            >
                              <FiX />
                            </button>
                          </>
                        ) : (
                          <button
                            onClick={() => handleReject(book.id)}
                            className="btn-icon delete"
                            title="لغو تایید"
                          >
                            <FiX />
                          </button>
                        )}
                      </div>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  );
};

export default AdminBooksPage;


--------------------------------------------------
File End
--------------------------------------------------


pages\Admin\AdminCategoriesPage.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { toast } from "react-toastify";
import { FiPlus, FiEdit, FiTrash2, FiTag } from "react-icons/fi";
import api from "../../services/api";
import "./AdminPages.css";

const AdminCategoriesPage = () => {
  const [categories, setCategories] = useState([]);
  const [loading, setLoading] = useState(true);
  const [showModal, setShowModal] = useState(false);
  const [editingCategory, setEditingCategory] = useState(null);
  const [categoryName, setCategoryName] = useState("");

  useEffect(() => {
    fetchCategories();
  }, []);

  const fetchCategories = async () => {
    try {
      const response = await api.get("/categories/");
      setCategories(response.data);
    } catch (error) {
      toast.error("خطا در دریافت دسته‌بندی‌ها");
    } finally {
      setLoading(false);
    }
  };

  const handleOpenModal = (category = null) => {
    if (category) {
      setEditingCategory(category);
      setCategoryName(category.name);
    } else {
      setEditingCategory(null);
      setCategoryName("");
    }
    setShowModal(true);
  };

  const handleCloseModal = () => {
    setShowModal(false);
    setEditingCategory(null);
    setCategoryName("");
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    if (!categoryName.trim()) {
      toast.error("لطفا نام دسته‌بندی را وارد کنید");
      return;
    }

    try {
      if (editingCategory) {
        // ویرایش
        await api.put(`/categories/${editingCategory.id}/`, {
          name: categoryName,
        });
        toast.success("دسته‌بندی با موفقیت ویرایش شد");
      } else {
        // افزودن
        await api.post("/categories/", { name: categoryName });
        toast.success("دسته‌بندی با موفقیت اضافه شد");
      }
      fetchCategories();
      handleCloseModal();
    } catch (error) {
      toast.error("خطا در ذخیره دسته‌بندی");
    }
  };

  const handleDelete = async (id) => {
    if (!window.confirm("آیا از حذف این دسته‌بندی اطمینان دارید؟")) return;

    try {
      await api.delete(`/categories/${id}/`);
      toast.success("دسته‌بندی حذف شد");
      fetchCategories();
    } catch (error) {
      toast.error("خطا در حذف دسته‌بندی");
    }
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading"></div>
      </div>
    );
  }

  return (
    <div className="admin-page">
      <div className="container">
        <div className="page-header">
          <div>
            <h1>مدیریت دسته‌بندی‌ها</h1>
            <p>مدیریت دسته‌بندی‌های کتاب‌ها</p>
          </div>
          <button onClick={() => handleOpenModal()} className="btn btn-primary">
            <FiPlus /> افزودن دسته‌بندی
          </button>
        </div>

        <div className="admin-content">
          {categories.length > 0 ? (
            <div className="admin-table">
              <table>
                <thead>
                  <tr>
                    <th>شناسه</th>
                    <th>نام دسته‌بندی</th>
                    <th>عملیات</th>
                  </tr>
                </thead>
                <tbody>
                  {categories.map((category) => (
                    <tr key={category.id}>
                      <td>{category.id}</td>
                      <td>
                        <div
                          style={{
                            display: "flex",
                            alignItems: "center",
                            gap: "8px",
                          }}
                        >
                          <FiTag style={{ color: "var(--primary)" }} />
                          {category.name}
                        </div>
                      </td>
                      <td>
                        <div className="action-buttons">
                          <button
                            onClick={() => handleOpenModal(category)}
                            className="btn-icon edit"
                            title="ویرایش"
                          >
                            <FiEdit />
                          </button>
                          <button
                            onClick={() => handleDelete(category.id)}
                            className="btn-icon delete"
                            title="حذف"
                          >
                            <FiTrash2 />
                          </button>
                        </div>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          ) : (
            <div className="empty-state">
              <FiTag size={64} />
              <h3>هنوز دسته‌بندی‌ای وجود ندارد</h3>
              <p>اولین دسته‌بندی را اضافه کنید</p>
            </div>
          )}
        </div>

        {/* Modal */}
        {showModal && (
          <div className="modal-overlay" onClick={handleCloseModal}>
            <div className="modal-content" onClick={(e) => e.stopPropagation()}>
              <h3>
                {editingCategory ? "ویرایش دسته‌بندی" : "افزودن دسته‌بندی"}
              </h3>
              <form onSubmit={handleSubmit} className="category-form">
                <div className="form-group">
                  <label>نام دسته‌بندی</label>
                  <input
                    type="text"
                    value={categoryName}
                    onChange={(e) => setCategoryName(e.target.value)}
                    placeholder="مثال: رمان، تاریخ، علمی"
                    required
                    autoFocus
                  />
                </div>
                <div className="modal-actions">
                  <button type="submit" className="btn btn-primary">
                    {editingCategory ? "ذخیره تغییرات" : "افزودن"}
                  </button>
                  <button
                    type="button"
                    onClick={handleCloseModal}
                    className="btn btn-secondary"
                  >
                    انصراف
                  </button>
                </div>
              </form>
            </div>
          </div>
        )}
      </div>
    </div>
  );
};

export default AdminCategoriesPage;


--------------------------------------------------
File End
--------------------------------------------------


pages\Admin\AdminDashboard.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { Link } from "react-router-dom";
import {
  FiUsers,
  FiBook,
  FiShoppingCart,
  FiMessageSquare,
  FiTag, // ⬅️ اضافه شد
} from "react-icons/fi";
import api from "../../services/api";
import "./AdminPages.css";

const AdminDashboard = () => {
  const [stats, setStats] = useState({
    active_users: 0,
    total_books: 0,
    books_breakdown: {
      approved: 0,
      pending: 0,
    },
  });
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchStats();
  }, []);

  const fetchStats = async () => {
    try {
      const response = await api.get("/admin-reports/");
      setStats(response.data);
    } catch (error) {
      console.error("Error fetching stats:", error);
    } finally {
      setLoading(false);
    }
  };

  const statCards = [
    {
      title: "کاربران فعال",
      value: stats.active_users,
      icon: <FiUsers />,
      color: "primary",
      link: "/admin/users",
    },
    {
      title: "کل کتاب‌ها",
      value: stats.total_books,
      icon: <FiBook />,
      color: "secondary",
      link: "/admin/books",
    },
    {
      title: "کتاب‌های تایید شده",
      value: stats.books_breakdown.approved,
      icon: <FiShoppingCart />,
      color: "success",
      link: "/admin/books",
    },
    {
      title: "در انتظار تایید",
      value: stats.books_breakdown.pending,
      icon: <FiMessageSquare />,
      color: "warning",
      link: "/admin/books",
    },
  ];

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading"></div>
      </div>
    );
  }

  return (
    <div className="admin-page">
      <div className="container">
        <div className="page-header">
          <h1>داشبورد مدیریت</h1>
          <p>مدیریت کلی سیستم</p>
        </div>

        <div className="admin-content">
          <div className="stats-grid">
            {statCards.map((stat, index) => (
              <Link
                key={index}
                to={stat.link}
                className={`stat-card ${stat.color}`}
              >
                <div className="stat-icon">{stat.icon}</div>
                <div className="stat-info">
                  <h3>{stat.value.toLocaleString("fa-IR")}</h3>
                  <p>{stat.title}</p>
                </div>
              </Link>
            ))}
          </div>

          <div className="quick-actions">
            <h2>دسترسی سریع</h2>
            <div className="quick-actions-grid">
              <Link to="/admin/users" className="quick-action-card">
                <FiUsers />
                <span>مدیریت کاربران</span>
              </Link>
              <Link to="/admin/books" className="quick-action-card">
                <FiBook />
                <span>مدیریت کتاب‌ها</span>
              </Link>
              {/* ⬇️ دکمه جدید */}
              <Link to="/admin/categories" className="quick-action-card">
                <FiTag />
                <span>مدیریت دسته‌بندی‌ها</span>
              </Link>
              <Link to="/admin/support" className="quick-action-card">
                <FiMessageSquare />
                <span>پشتیبانی</span>
              </Link>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default AdminDashboard;


--------------------------------------------------
File End
--------------------------------------------------


pages\Admin\AdminPages.css
File type: .css
.admin-page {
  min-height: 100vh;
  padding: var(--spacing-xl) 0;
  background: var(--bg-primary);
}

.admin-content {
  max-width: 1400px;
  margin: 0 auto;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--spacing-lg);
  margin-bottom: var(--spacing-2xl);
}

.stat-card {
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  display: flex;
  align-items: center;
  gap: var(--spacing-lg);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--border);
  transition: all 0.3s ease;
  text-decoration: none;
  color: inherit;
}

.stat-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
}

.stat-card.primary .stat-icon {
  background: linear-gradient(
    135deg,
    var(--primary) 0%,
    var(--primary-dark) 100%
  );
}

.stat-card.secondary .stat-icon {
  background: linear-gradient(
    135deg,
    var(--secondary) 0%,
    var(--secondary-dark) 100%
  );
}

.stat-card.success .stat-icon {
  background: linear-gradient(135deg, var(--success) 0%, #1e4620 100%);
}

.stat-card.warning .stat-icon {
  background: linear-gradient(
    135deg,
    var(--warning) 0%,
    var(--secondary-dark) 100%
  );
}

.stat-icon {
  width: 70px;
  height: 70px;
  border-radius: var(--radius-lg);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  color: white;
  flex-shrink: 0;
}

.stat-info h3 {
  font-size: 2.5rem;
  font-weight: 800;
  color: var(--text-primary);
  margin: 0;
  line-height: 1;
}

.stat-info p {
  color: var(--text-secondary);
  margin: var(--spacing-xs) 0 0 0;
  font-size: 0.875rem;
}

.quick-actions {
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  box-shadow: var(--shadow-sm);
}

.quick-actions h2 {
  margin-bottom: var(--spacing-lg);
  font-size: 1.5rem;
}

.quick-actions-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--spacing-md);
}

.quick-action-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-md);
  padding: var(--spacing-xl);
  background: var(--bg-secondary);
  border-radius: var(--radius-md);
  border: 2px solid var(--border);
  text-decoration: none;
  color: var(--text-primary);
  font-weight: 600;
  transition: all 0.2s ease;
}

.quick-action-card:hover {
  border-color: var(--primary);
  background: var(--bg-tertiary);
  transform: translateY(-2px);
}

.quick-action-card svg {
  font-size: 2.5rem;
  color: var(--primary);
}

.search-section,
.filters-section {
  margin-bottom: var(--spacing-xl);
}

.filter-select {
  padding: var(--spacing-sm) var(--spacing-md);
  border: 2px solid var(--border);
  border-radius: var(--radius-md);
  background: var(--bg-tertiary);
  color: var(--text-primary);
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.filter-select:focus {
  outline: none;
  border-color: var(--primary);
}

.admin-table {
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  box-shadow: var(--shadow-md);
  overflow-x: auto;
}

.admin-table table {
  width: 100%;
  border-collapse: collapse;
  min-width: 800px;
}

.admin-table th {
  background: var(--bg-secondary);
  padding: var(--spacing-md);
  text-align: right;
  font-weight: 600;
  color: var(--text-primary);
  border-bottom: 2px solid var(--border);
  white-space: nowrap;
}

.admin-table td {
  padding: var(--spacing-md);
  border-bottom: 1px solid var(--border);
  color: var(--text-secondary);
  vertical-align: middle;
}

.admin-table tr:hover {
  background: var(--bg-secondary);
}

.admin-table .book-thumb {
  width: 50px;
  height: 70px;
  object-fit: cover;
  border-radius: var(--radius-sm);
}

.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000;
  padding: var(--spacing-lg);
}

.modal-content {
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-2xl);
  max-width: 500px;
  width: 100%;
  box-shadow: var(--shadow-lg);
}

.modal-content h3 {
  margin-bottom: var(--spacing-lg);
  color: var(--text-primary);
}

.modal-content p {
  margin-bottom: var(--spacing-xl);
  color: var(--text-secondary);
}

.role-buttons {
  display: flex;
  gap: var(--spacing-md);
  margin-bottom: var(--spacing-lg);
  flex-wrap: wrap;
}

.role-buttons .btn {
  flex: 1;
}

.tickets-admin-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

.ticket-admin-card {
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--border);
}

.ticket-admin-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: var(--spacing-lg);
  padding-bottom: var(--spacing-lg);
  border-bottom: 1px solid var(--border);
}

.ticket-admin-header h3 {
  font-size: 1.25rem;
  margin-bottom: var(--spacing-xs);
  color: var(--primary);
}

.ticket-user {
  color: var(--text-secondary);
  font-size: 0.875rem;
  margin: var(--spacing-xs) 0;
}

.ticket-date {
  color: var(--text-muted);
  font-size: 0.875rem;
  margin: 0;
}

.ticket-admin-body {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

.ticket-message {
  color: var(--text-primary);
  line-height: 1.7;
}

.admin-reply-show {
  background: var(--bg-secondary);
  padding: var(--spacing-lg);
  border-radius: var(--radius-md);
  border-right: 3px solid var(--primary);
}

.admin-reply-show strong {
  display: block;
  margin-bottom: var(--spacing-sm);
  color: var(--primary);
}

.admin-reply-show p {
  margin: 0;
  color: var(--text-secondary);
}

.reply-form {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.reply-form textarea {
  width: 100%;
  padding: var(--spacing-md);
  border: 2px solid var(--border);
  border-radius: var(--radius-md);
  font-family: var(--font-family);
  font-size: 1rem;
  resize: vertical;
}

.reply-form textarea:focus {
  outline: none;
  border-color: var(--primary);
}

.reply-actions {
  display: flex;
  gap: var(--spacing-md);
}

@media (max-width: 968px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .quick-actions-grid {
    grid-template-columns: 1fr;
  }

  .admin-table {
    overflow-x: scroll;
  }

  .ticket-admin-header {
    flex-direction: column;
    gap: var(--spacing-sm);
  }

  .reply-actions {
    flex-direction: column;
  }
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: 1fr;
  }

  .stat-info h3 {
    font-size: 2rem;
  }
}
/* Category Form Styles */
.category-form {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

.modal-actions {
  display: flex;
  gap: var(--spacing-md);
  justify-content: flex-end;
}

.modal-actions .btn {
  min-width: 120px;
}

.empty-state {
  text-align: center;
  padding: var(--spacing-2xl);
  color: var(--text-muted);
}

.empty-state svg {
  color: var(--text-muted);
  margin-bottom: var(--spacing-md);
}

.empty-state h3 {
  margin-bottom: var(--spacing-sm);
  color: var(--text-secondary);
}

.empty-state p {
  margin: 0;
  color: var(--text-muted);
}

/* Modal improvements */
.modal-content form {
  margin-top: var(--spacing-md);
}

.modal-content .form-group {
  margin-bottom: 0;
}

.modal-content input:focus {
  outline: none;
  border-color: var(--primary);
}


--------------------------------------------------
File End
--------------------------------------------------


pages\Admin\AdminSupportPage.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { toast } from "react-toastify";
import { FiSend } from "react-icons/fi";
import api from "../../services/api";
import "./AdminPages.css";

const AdminSupportPage = () => {
  const [tickets, setTickets] = useState([]);
  const [loading, setLoading] = useState(true);
  const [replyingTo, setReplyingTo] = useState(null);
  const [replyText, setReplyText] = useState("");

  useEffect(() => {
    fetchTickets();
  }, []);

  const fetchTickets = async () => {
    try {
      const response = await api.get("/support-tickets/");
      setTickets(response.data);
    } catch (error) {
      toast.error("خطا در دریافت تیکت‌ها");
    } finally {
      setLoading(false);
    }
  };

  const handleReply = async (ticketId) => {
    if (!replyText.trim()) {
      toast.error("لطفا پاسخ را وارد کنید");
      return;
    }

    try {
      await api.post(`/support-tickets/${ticketId}/reply/`, {
        admin_reply: replyText,
      });
      toast.success("پاسخ ارسال شد");
      setReplyingTo(null);
      setReplyText("");
      fetchTickets();
    } catch (error) {
      toast.error("خطا در ارسال پاسخ");
    }
  };

  const getSubjectText = (subject) => {
    const subjects = {
      technical: "مشکل فنی",
      payment: "مشکل پرداخت",
      report: "گزارش",
      other: "سایر",
    };
    return subjects[subject] || subject;
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading"></div>
      </div>
    );
  }

  return (
    <div className="admin-page">
      <div className="container">
        <div className="page-header">
          <h1>مدیریت پشتیبانی</h1>
          <p>پاسخ به تیکت‌های کاربران</p>
        </div>

        <div className="admin-content">
          <div className="tickets-admin-list">
            {tickets.map((ticket) => (
              <div key={ticket.id} className="ticket-admin-card">
                <div className="ticket-admin-header">
                  <div>
                    <h3>{getSubjectText(ticket.subject)}</h3>
                    <p className="ticket-user">کاربر: {ticket.user}</p>
                    <p className="ticket-date">
                      {new Date(ticket.created_at).toLocaleDateString("fa-IR")}
                    </p>
                  </div>
                  <span
                    className={`badge ${ticket.is_resolved ? "badge-success" : "badge-warning"}`}
                  >
                    {ticket.is_resolved ? "پاسخ داده شده" : "در انتظار"}
                  </span>
                </div>

                <div className="ticket-admin-body">
                  <p className="ticket-message">
                    <strong>پیام:</strong> {ticket.message}
                  </p>

                  {ticket.admin_reply && (
                    <div className="admin-reply-show">
                      <strong>پاسخ شما:</strong>
                      <p>{ticket.admin_reply}</p>
                    </div>
                  )}

                  {!ticket.is_resolved && (
                    <>
                      {replyingTo === ticket.id ? (
                        <div className="reply-form">
                          <textarea
                            value={replyText}
                            onChange={(e) => setReplyText(e.target.value)}
                            placeholder="پاسخ خود را بنویسید..."
                            rows="4"
                          />
                          <div className="reply-actions">
                            <button
                              onClick={() => handleReply(ticket.id)}
                              className="btn btn-primary"
                            >
                              <FiSend /> ارسال پاسخ
                            </button>
                            <button
                              onClick={() => {
                                setReplyingTo(null);
                                setReplyText("");
                              }}
                              className="btn btn-secondary"
                            >
                              انصراف
                            </button>
                          </div>
                        </div>
                      ) : (
                        <button
                          onClick={() => setReplyingTo(ticket.id)}
                          className="btn btn-primary btn-small"
                        >
                          پاسخ دادن
                        </button>
                      )}
                    </>
                  )}
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  );
};

export default AdminSupportPage;


--------------------------------------------------
File End
--------------------------------------------------


pages\Admin\AdminUsersPage.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { toast } from "react-toastify";
import { FiEdit, FiTrash2, FiSearch } from "react-icons/fi";
import api from "../../services/api";
import "./AdminPages.css";

const AdminUsersPage = () => {
  const [users, setUsers] = useState([]);
  const [filteredUsers, setFilteredUsers] = useState([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState("");
  const [editingUser, setEditingUser] = useState(null);
  const [roleModal, setRoleModal] = useState(false);

  useEffect(() => {
    fetchUsers();
  }, []);

  useEffect(() => {
    const filtered = users.filter(
      (user) =>
        user.username.toLowerCase().includes(searchTerm.toLowerCase()) ||
        user.email.toLowerCase().includes(searchTerm.toLowerCase()),
    );
    setFilteredUsers(filtered);
  }, [searchTerm, users]);

  const fetchUsers = async () => {
    try {
      const response = await api.get("/users/");
      setUsers(response.data);
      setFilteredUsers(response.data);
    } catch (error) {
      toast.error("خطا در دریافت کاربران");
    } finally {
      setLoading(false);
    }
  };

  const handleChangeRole = async (userId, newRole) => {
    try {
      await api.post(`/users/${userId}/update-role/`, { role: newRole });
      toast.success("نقش کاربر تغییر کرد");
      fetchUsers();
      setRoleModal(false);
      setEditingUser(null);
    } catch (error) {
      toast.error("خطا در تغییر نقش");
    }
  };

  const handleDeleteUser = async (userId) => {
    if (!window.confirm("آیا از حذف این کاربر اطمینان دارید؟")) return;

    try {
      await api.delete(`/users/${userId}/`);
      toast.success("کاربر حذف شد");
      fetchUsers();
    } catch (error) {
      toast.error("خطا در حذف کاربر");
    }
  };

  const getRoleBadge = (role) => {
    const roles = {
      admin: { text: "مدیر", class: "badge-error" },
      seller: { text: "فروشنده", class: "badge-warning" },
      buyer: { text: "خریدار", class: "badge-success" },
    };
    return roles[role] || roles["buyer"];
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading"></div>
      </div>
    );
  }

  return (
    <div className="admin-page">
      <div className="container">
        <div className="page-header">
          <h1>مدیریت کاربران</h1>
          <p>مشاهده و مدیریت کاربران سیستم</p>
        </div>

        <div className="admin-content">
          <div className="search-section">
            <div className="search-bar">
              <FiSearch className="search-icon" />
              <input
                type="text"
                placeholder="جستجو بر اساس نام کاربری یا ایمیل..."
                value={searchTerm}
                onChange={(e) => setSearchTerm(e.target.value)}
              />
            </div>
          </div>

          <div className="admin-table">
            <table>
              <thead>
                <tr>
                  <th>شناسه</th>
                  <th>نام کاربری</th>
                  <th>ایمیل</th>
                  <th>شماره تماس</th>
                  <th>نقش</th>
                  <th>عملیات</th>
                </tr>
              </thead>
              <tbody>
                {filteredUsers.map((user) => (
                  <tr key={user.id}>
                    <td>{user.id}</td>
                    <td>{user.username}</td>
                    <td>{user.email}</td>
                    <td>{user.phone_number || "-"}</td>
                    <td>
                      <span
                        className={`badge ${getRoleBadge(user.role).class}`}
                      >
                        {getRoleBadge(user.role).text}
                      </span>
                    </td>
                    <td>
                      <div className="action-buttons">
                        <button
                          onClick={() => {
                            setEditingUser(user);
                            setRoleModal(true);
                          }}
                          className="btn-icon edit"
                          title="تغییر نقش"
                        >
                          <FiEdit />
                        </button>
                        <button
                          onClick={() => handleDeleteUser(user.id)}
                          className="btn-icon delete"
                          title="حذف"
                        >
                          <FiTrash2 />
                        </button>
                      </div>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </div>

        {roleModal && editingUser && (
          <div className="modal-overlay" onClick={() => setRoleModal(false)}>
            <div className="modal-content" onClick={(e) => e.stopPropagation()}>
              <h3>تغییر نقش کاربر</h3>
              <p>کاربر: {editingUser.username}</p>
              <div className="role-buttons">
                <button
                  onClick={() => handleChangeRole(editingUser.id, "buyer")}
                  className="btn btn-secondary"
                >
                  خریدار
                </button>
                <button
                  onClick={() => handleChangeRole(editingUser.id, "seller")}
                  className="btn btn-secondary"
                >
                  فروشنده
                </button>
                <button
                  onClick={() => handleChangeRole(editingUser.id, "admin")}
                  className="btn btn-accent"
                >
                  مدیر
                </button>
              </div>
              <button
                onClick={() => setRoleModal(false)}
                className="btn btn-secondary"
              >
                انصراف
              </button>
            </div>
          </div>
        )}
      </div>
    </div>
  );
};

export default AdminUsersPage;


--------------------------------------------------
File End
--------------------------------------------------


pages\Admin\output_path.txt
File type: .txt
Folder Structure
--------------------------------------------------
./
    AdminBooksPage.jsx
    AdminDashboard.jsx
    AdminPages.css
    AdminSupportPage.jsx
    AdminUsersPage.jsx


File Contents
--------------------------------------------------


AdminBooksPage.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { toast } from "react-toastify";
import { FiCheck, FiX, FiSearch } from "react-icons/fi";
import api from "../../services/api";
import "./AdminPages.css";

const AdminBooksPage = () => {
  const [books, setBooks] = useState([]);
  const [filteredBooks, setFilteredBooks] = useState([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState("");
  const [filterStatus, setFilterStatus] = useState("all");

  useEffect(() => {
    fetchBooks();
  }, []);

  useEffect(() => {
    let filtered = books;

    if (searchTerm) {
      filtered = filtered.filter(
        (book) =>
          book.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
          book.author.toLowerCase().includes(searchTerm.toLowerCase()),
      );
    }

    if (filterStatus !== "all") {
      if (filterStatus === "pending") {
        filtered = filtered.filter((book) => !book.is_approved);
      } else if (filterStatus === "approved") {
        filtered = filtered.filter((book) => book.is_approved);
      }
    }

    setFilteredBooks(filtered);
  }, [searchTerm, filterStatus, books]);

  const fetchBooks = async () => {
    try {
      const response = await api.get("/books/");
      setBooks(response.data);
      setFilteredBooks(response.data);
    } catch (error) {
      toast.error("خطا در دریافت کتاب‌ها");
    } finally {
      setLoading(false);
    }
  };

  const handleApprove = async (bookId) => {
    try {
      await api.post(`/books/${bookId}/approve/`);
      toast.success("کتاب تایید شد");
      fetchBooks();
    } catch (error) {
      toast.error("خطا در تایید کتاب");
    }
  };

  const handleReject = async (bookId) => {
    try {
      await api.post(`/books/${bookId}/reject/`);
      toast.success("کتاب رد شد");
      fetchBooks();
    } catch (error) {
      toast.error("خطا در رد کتاب");
    }
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading"></div>
      </div>
    );
  }

  return (
    <div className="admin-page">
      <div className="container">
        <div className="page-header">
          <h1>مدیریت کتاب‌ها</h1>
          <p>تایید و مدیریت کتاب‌های ثبت شده</p>
        </div>

        <div className="admin-content">
          <div className="filters-section">
            <div className="search-bar">
              <FiSearch className="search-icon" />
              <input
                type="text"
                placeholder="جستجو بر اساس عنوان یا نویسنده..."
                value={searchTerm}
                onChange={(e) => setSearchTerm(e.target.value)}
              />
            </div>

            <select
              value={filterStatus}
              onChange={(e) => setFilterStatus(e.target.value)}
              className="filter-select"
            >
              <option value="all">همه کتاب‌ها</option>
              <option value="pending">در انتظار تایید</option>
              <option value="approved">تایید شده</option>
            </select>
          </div>

          <div className="admin-table">
            <table>
              <thead>
                <tr>
                  <th>تصویر</th>
                  <th>عنوان</th>
                  <th>نویسنده</th>
                  <th>فروشنده</th>
                  <th>قیمت</th>
                  <th>وضعیت</th>
                  <th>عملیات</th>
                </tr>
              </thead>
              <tbody>
                {filteredBooks.map((book) => (
                  <tr key={book.id}>
                    <td>
                      <img
                        src={book.image || "/default-book.png"}
                        alt={book.title}
                        className="book-thumb"
                      />
                    </td>
                    <td>{book.title}</td>
                    <td>{book.author}</td>
                    <td>{book.seller_name}</td>
                    <td>{Number(book.price).toLocaleString("fa-IR")} تومان</td>
                    <td>
                      {book.is_approved ? (
                        <span className="badge badge-success">تایید شده</span>
                      ) : (
                        <span className="badge badge-warning">در انتظار</span>
                      )}
                    </td>
                    <td>
                      <div className="action-buttons">
                        {!book.is_approved ? (
                          <>
                            <button
                              onClick={() => handleApprove(book.id)}
                              className="btn-icon approve"
                              title="تایید"
                            >
                              <FiCheck />
                            </button>
                            <button
                              onClick={() => handleReject(book.id)}
                              className="btn-icon delete"
                              title="رد"
                            >
                              <FiX />
                            </button>
                          </>
                        ) : (
                          <button
                            onClick={() => handleReject(book.id)}
                            className="btn-icon delete"
                            title="لغو تایید"
                          >
                            <FiX />
                          </button>
                        )}
                      </div>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  );
};

export default AdminBooksPage;


--------------------------------------------------
File End
--------------------------------------------------


AdminDashboard.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { Link } from "react-router-dom";
import {
  FiUsers,
  FiBook,
  FiShoppingCart,
  FiMessageSquare,
} from "react-icons/fi";
import api from "../../services/api";
import "./AdminPages.css";

const AdminDashboard = () => {
  const [stats, setStats] = useState({
    active_users: 0,
    total_books: 0,
    books_breakdown: {
      approved: 0,
      pending: 0,
    },
  });
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchStats();
  }, []);

  const fetchStats = async () => {
    try {
      const response = await api.get("/admin-reports/");
      setStats(response.data);
    } catch (error) {
      console.error("Error fetching stats:", error);
    } finally {
      setLoading(false);
    }
  };

  const statCards = [
    {
      title: "کاربران فعال",
      value: stats.active_users,
      icon: <FiUsers />,
      color: "primary",
      link: "/admin/users",
    },
    {
      title: "کل کتاب‌ها",
      value: stats.total_books,
      icon: <FiBook />,
      color: "secondary",
      link: "/admin/books",
    },
    {
      title: "کتاب‌های تایید شده",
      value: stats.books_breakdown.approved,
      icon: <FiShoppingCart />,
      color: "success",
      link: "/admin/books",
    },
    {
      title: "در انتظار تایید",
      value: stats.books_breakdown.pending,
      icon: <FiMessageSquare />,
      color: "warning",
      link: "/admin/books",
    },
  ];

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading"></div>
      </div>
    );
  }

  return (
    <div className="admin-page">
      <div className="container">
        <div className="page-header">
          <h1>داشبورد مدیریت</h1>
          <p>مدیریت کلی سیستم</p>
        </div>

        <div className="admin-content">
          <div className="stats-grid">
            {statCards.map((stat, index) => (
              <Link
                key={index}
                to={stat.link}
                className={`stat-card ${stat.color}`}
              >
                <div className="stat-icon">{stat.icon}</div>
                <div className="stat-info">
                  <h3>{stat.value.toLocaleString("fa-IR")}</h3>
                  <p>{stat.title}</p>
                </div>
              </Link>
            ))}
          </div>

          <div className="quick-actions">
            <h2>دسترسی سریع</h2>
            <div className="quick-actions-grid">
              <Link to="/admin/users" className="quick-action-card">
                <FiUsers />
                <span>مدیریت کاربران</span>
              </Link>
              <Link to="/admin/books" className="quick-action-card">
                <FiBook />
                <span>مدیریت کتاب‌ها</span>
              </Link>
              <Link to="/admin/support" className="quick-action-card">
                <FiMessageSquare />
                <span>پشتیبانی</span>
              </Link>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default AdminDashboard;


--------------------------------------------------
File End
--------------------------------------------------


AdminPages.css
File type: .css
.admin-page {
  min-height: 100vh;
  padding: var(--spacing-xl) 0;
  background: var(--bg-primary);
}

.admin-content {
  max-width: 1400px;
  margin: 0 auto;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--spacing-lg);
  margin-bottom: var(--spacing-2xl);
}

.stat-card {
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  display: flex;
  align-items: center;
  gap: var(--spacing-lg);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--border);
  transition: all 0.3s ease;
  text-decoration: none;
  color: inherit;
}

.stat-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
}

.stat-card.primary .stat-icon {
  background: linear-gradient(
    135deg,
    var(--primary) 0%,
    var(--primary-dark) 100%
  );
}

.stat-card.secondary .stat-icon {
  background: linear-gradient(
    135deg,
    var(--secondary) 0%,
    var(--secondary-dark) 100%
  );
}

.stat-card.success .stat-icon {
  background: linear-gradient(135deg, var(--success) 0%, #1e4620 100%);
}

.stat-card.warning .stat-icon {
  background: linear-gradient(
    135deg,
    var(--warning) 0%,
    var(--secondary-dark) 100%
  );
}

.stat-icon {
  width: 70px;
  height: 70px;
  border-radius: var(--radius-lg);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  color: white;
  flex-shrink: 0;
}

.stat-info h3 {
  font-size: 2.5rem;
  font-weight: 800;
  color: var(--text-primary);
  margin: 0;
  line-height: 1;
}

.stat-info p {
  color: var(--text-secondary);
  margin: var(--spacing-xs) 0 0 0;
  font-size: 0.875rem;
}

.quick-actions {
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  box-shadow: var(--shadow-sm);
}

.quick-actions h2 {
  margin-bottom: var(--spacing-lg);
  font-size: 1.5rem;
}

.quick-actions-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--spacing-md);
}

.quick-action-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-md);
  padding: var(--spacing-xl);
  background: var(--bg-secondary);
  border-radius: var(--radius-md);
  border: 2px solid var(--border);
  text-decoration: none;
  color: var(--text-primary);
  font-weight: 600;
  transition: all 0.2s ease;
}

.quick-action-card:hover {
  border-color: var(--primary);
  background: var(--bg-tertiary);
  transform: translateY(-2px);
}

.quick-action-card svg {
  font-size: 2.5rem;
  color: var(--primary);
}

.search-section,
.filters-section {
  margin-bottom: var(--spacing-xl);
}

.filter-select {
  padding: var(--spacing-sm) var(--spacing-md);
  border: 2px solid var(--border);
  border-radius: var(--radius-md);
  background: var(--bg-tertiary);
  color: var(--text-primary);
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.filter-select:focus {
  outline: none;
  border-color: var(--primary);
}

.admin-table {
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  box-shadow: var(--shadow-md);
  overflow-x: auto;
}

.admin-table table {
  width: 100%;
  border-collapse: collapse;
  min-width: 800px;
}

.admin-table th {
  background: var(--bg-secondary);
  padding: var(--spacing-md);
  text-align: right;
  font-weight: 600;
  color: var(--text-primary);
  border-bottom: 2px solid var(--border);
  white-space: nowrap;
}

.admin-table td {
  padding: var(--spacing-md);
  border-bottom: 1px solid var(--border);
  color: var(--text-secondary);
  vertical-align: middle;
}

.admin-table tr:hover {
  background: var(--bg-secondary);
}

.admin-table .book-thumb {
  width: 50px;
  height: 70px;
  object-fit: cover;
  border-radius: var(--radius-sm);
}

.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000;
  padding: var(--spacing-lg);
}

.modal-content {
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-2xl);
  max-width: 500px;
  width: 100%;
  box-shadow: var(--shadow-lg);
}

.modal-content h3 {
  margin-bottom: var(--spacing-lg);
  color: var(--text-primary);
}

.modal-content p {
  margin-bottom: var(--spacing-xl);
  color: var(--text-secondary);
}

.role-buttons {
  display: flex;
  gap: var(--spacing-md);
  margin-bottom: var(--spacing-lg);
  flex-wrap: wrap;
}

.role-buttons .btn {
  flex: 1;
}

.tickets-admin-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

.ticket-admin-card {
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--border);
}

.ticket-admin-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: var(--spacing-lg);
  padding-bottom: var(--spacing-lg);
  border-bottom: 1px solid var(--border);
}

.ticket-admin-header h3 {
  font-size: 1.25rem;
  margin-bottom: var(--spacing-xs);
  color: var(--primary);
}

.ticket-user {
  color: var(--text-secondary);
  font-size: 0.875rem;
  margin: var(--spacing-xs) 0;
}

.ticket-date {
  color: var(--text-muted);
  font-size: 0.875rem;
  margin: 0;
}

.ticket-admin-body {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

.ticket-message {
  color: var(--text-primary);
  line-height: 1.7;
}

.admin-reply-show {
  background: var(--bg-secondary);
  padding: var(--spacing-lg);
  border-radius: var(--radius-md);
  border-right: 3px solid var(--primary);
}

.admin-reply-show strong {
  display: block;
  margin-bottom: var(--spacing-sm);
  color: var(--primary);
}

.admin-reply-show p {
  margin: 0;
  color: var(--text-secondary);
}

.reply-form {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.reply-form textarea {
  width: 100%;
  padding: var(--spacing-md);
  border: 2px solid var(--border);
  border-radius: var(--radius-md);
  font-family: var(--font-family);
  font-size: 1rem;
  resize: vertical;
}

.reply-form textarea:focus {
  outline: none;
  border-color: var(--primary);
}

.reply-actions {
  display: flex;
  gap: var(--spacing-md);
}

@media (max-width: 968px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .quick-actions-grid {
    grid-template-columns: 1fr;
  }

  .admin-table {
    overflow-x: scroll;
  }

  .ticket-admin-header {
    flex-direction: column;
    gap: var(--spacing-sm);
  }

  .reply-actions {
    flex-direction: column;
  }
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: 1fr;
  }

  .stat-info h3 {
    font-size: 2rem;
  }
}


--------------------------------------------------
File End
--------------------------------------------------


AdminSupportPage.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { toast } from "react-toastify";
import { FiSend } from "react-icons/fi";
import api from "../../services/api";
import "./AdminPages.css";

const AdminSupportPage = () => {
  const [tickets, setTickets] = useState([]);
  const [loading, setLoading] = useState(true);
  const [replyingTo, setReplyingTo] = useState(null);
  const [replyText, setReplyText] = useState("");

  useEffect(() => {
    fetchTickets();
  }, []);

  const fetchTickets = async () => {
    try {
      const response = await api.get("/support-tickets/");
      setTickets(response.data);
    } catch (error) {
      toast.error("خطا در دریافت تیکت‌ها");
    } finally {
      setLoading(false);
    }
  };

  const handleReply = async (ticketId) => {
    if (!replyText.trim()) {
      toast.error("لطفا پاسخ را وارد کنید");
      return;
    }

    try {
      await api.post(`/support-tickets/${ticketId}/reply/`, {
        admin_reply: replyText,
      });
      toast.success("پاسخ ارسال شد");
      setReplyingTo(null);
      setReplyText("");
      fetchTickets();
    } catch (error) {
      toast.error("خطا در ارسال پاسخ");
    }
  };

  const getSubjectText = (subject) => {
    const subjects = {
      technical: "مشکل فنی",
      payment: "مشکل پرداخت",
      report: "گزارش",
      other: "سایر",
    };
    return subjects[subject] || subject;
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading"></div>
      </div>
    );
  }

  return (
    <div className="admin-page">
      <div className="container">
        <div className="page-header">
          <h1>مدیریت پشتیبانی</h1>
          <p>پاسخ به تیکت‌های کاربران</p>
        </div>

        <div className="admin-content">
          <div className="tickets-admin-list">
            {tickets.map((ticket) => (
              <div key={ticket.id} className="ticket-admin-card">
                <div className="ticket-admin-header">
                  <div>
                    <h3>{getSubjectText(ticket.subject)}</h3>
                    <p className="ticket-user">کاربر: {ticket.user}</p>
                    <p className="ticket-date">
                      {new Date(ticket.created_at).toLocaleDateString("fa-IR")}
                    </p>
                  </div>
                  <span
                    className={`badge ${ticket.is_resolved ? "badge-success" : "badge-warning"}`}
                  >
                    {ticket.is_resolved ? "پاسخ داده شده" : "در انتظار"}
                  </span>
                </div>

                <div className="ticket-admin-body">
                  <p className="ticket-message">
                    <strong>پیام:</strong> {ticket.message}
                  </p>

                  {ticket.admin_reply && (
                    <div className="admin-reply-show">
                      <strong>پاسخ شما:</strong>
                      <p>{ticket.admin_reply}</p>
                    </div>
                  )}

                  {!ticket.is_resolved && (
                    <>
                      {replyingTo === ticket.id ? (
                        <div className="reply-form">
                          <textarea
                            value={replyText}
                            onChange={(e) => setReplyText(e.target.value)}
                            placeholder="پاسخ خود را بنویسید..."
                            rows="4"
                          />
                          <div className="reply-actions">
                            <button
                              onClick={() => handleReply(ticket.id)}
                              className="btn btn-primary"
                            >
                              <FiSend /> ارسال پاسخ
                            </button>
                            <button
                              onClick={() => {
                                setReplyingTo(null);
                                setReplyText("");
                              }}
                              className="btn btn-secondary"
                            >
                              انصراف
                            </button>
                          </div>
                        </div>
                      ) : (
                        <button
                          onClick={() => setReplyingTo(ticket.id)}
                          className="btn btn-primary btn-small"
                        >
                          پاسخ دادن
                        </button>
                      )}
                    </>
                  )}
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  );
};

export default AdminSupportPage;


--------------------------------------------------
File End
--------------------------------------------------


AdminUsersPage.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { toast } from "react-toastify";
import { FiEdit, FiTrash2, FiSearch } from "react-icons/fi";
import api from "../../services/api";
import "./AdminPages.css";

const AdminUsersPage = () => {
  const [users, setUsers] = useState([]);
  const [filteredUsers, setFilteredUsers] = useState([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState("");
  const [editingUser, setEditingUser] = useState(null);
  const [roleModal, setRoleModal] = useState(false);

  useEffect(() => {
    fetchUsers();
  }, []);

  useEffect(() => {
    const filtered = users.filter(
      (user) =>
        user.username.toLowerCase().includes(searchTerm.toLowerCase()) ||
        user.email.toLowerCase().includes(searchTerm.toLowerCase()),
    );
    setFilteredUsers(filtered);
  }, [searchTerm, users]);

  const fetchUsers = async () => {
    try {
      const response = await api.get("/users/");
      setUsers(response.data);
      setFilteredUsers(response.data);
    } catch (error) {
      toast.error("خطا در دریافت کاربران");
    } finally {
      setLoading(false);
    }
  };

  const handleChangeRole = async (userId, newRole) => {
    try {
      await api.post(`/users/${userId}/update-role/`, { role: newRole });
      toast.success("نقش کاربر تغییر کرد");
      fetchUsers();
      setRoleModal(false);
      setEditingUser(null);
    } catch (error) {
      toast.error("خطا در تغییر نقش");
    }
  };

  const handleDeleteUser = async (userId) => {
    if (!window.confirm("آیا از حذف این کاربر اطمینان دارید؟")) return;

    try {
      await api.delete(`/users/${userId}/`);
      toast.success("کاربر حذف شد");
      fetchUsers();
    } catch (error) {
      toast.error("خطا در حذف کاربر");
    }
  };

  const getRoleBadge = (role) => {
    const roles = {
      admin: { text: "مدیر", class: "badge-error" },
      seller: { text: "فروشنده", class: "badge-warning" },
      buyer: { text: "خریدار", class: "badge-success" },
    };
    return roles[role] || roles["buyer"];
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading"></div>
      </div>
    );
  }

  return (
    <div className="admin-page">
      <div className="container">
        <div className="page-header">
          <h1>مدیریت کاربران</h1>
          <p>مشاهده و مدیریت کاربران سیستم</p>
        </div>

        <div className="admin-content">
          <div className="search-section">
            <div className="search-bar">
              <FiSearch className="search-icon" />
              <input
                type="text"
                placeholder="جستجو بر اساس نام کاربری یا ایمیل..."
                value={searchTerm}
                onChange={(e) => setSearchTerm(e.target.value)}
              />
            </div>
          </div>

          <div className="admin-table">
            <table>
              <thead>
                <tr>
                  <th>شناسه</th>
                  <th>نام کاربری</th>
                  <th>ایمیل</th>
                  <th>شماره تماس</th>
                  <th>نقش</th>
                  <th>عملیات</th>
                </tr>
              </thead>
              <tbody>
                {filteredUsers.map((user) => (
                  <tr key={user.id}>
                    <td>{user.id}</td>
                    <td>{user.username}</td>
                    <td>{user.email}</td>
                    <td>{user.phone_number || "-"}</td>
                    <td>
                      <span
                        className={`badge ${getRoleBadge(user.role).class}`}
                      >
                        {getRoleBadge(user.role).text}
                      </span>
                    </td>
                    <td>
                      <div className="action-buttons">
                        <button
                          onClick={() => {
                            setEditingUser(user);
                            setRoleModal(true);
                          }}
                          className="btn-icon edit"
                          title="تغییر نقش"
                        >
                          <FiEdit />
                        </button>
                        <button
                          onClick={() => handleDeleteUser(user.id)}
                          className="btn-icon delete"
                          title="حذف"
                        >
                          <FiTrash2 />
                        </button>
                      </div>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </div>

        {roleModal && editingUser && (
          <div className="modal-overlay" onClick={() => setRoleModal(false)}>
            <div className="modal-content" onClick={(e) => e.stopPropagation()}>
              <h3>تغییر نقش کاربر</h3>
              <p>کاربر: {editingUser.username}</p>
              <div className="role-buttons">
                <button
                  onClick={() => handleChangeRole(editingUser.id, "buyer")}
                  className="btn btn-secondary"
                >
                  خریدار
                </button>
                <button
                  onClick={() => handleChangeRole(editingUser.id, "seller")}
                  className="btn btn-secondary"
                >
                  فروشنده
                </button>
                <button
                  onClick={() => handleChangeRole(editingUser.id, "admin")}
                  className="btn btn-accent"
                >
                  مدیر
                </button>
              </div>
              <button
                onClick={() => setRoleModal(false)}
                className="btn btn-secondary"
              >
                انصراف
              </button>
            </div>
          </div>
        )}
      </div>
    </div>
  );
};

export default AdminUsersPage;


--------------------------------------------------
File End
--------------------------------------------------


--------------------------------------------------
File End
--------------------------------------------------


pages\Auth\AuthPages.css
File type: .css
.auth-page {
  min-height: calc(100vh - 200px);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-xl) 0;
  background: linear-gradient(
    135deg,
    rgba(44, 95, 45, 0.03),
    rgba(212, 165, 116, 0.03)
  );
}

.auth-container {
  width: 100%;
  max-width: 500px;
  padding: 0 var(--spacing-lg);
}

.auth-card {
  background: var(--bg-tertiary);
  border-radius: var(--radius-xl);
  padding: var(--spacing-2xl);
  box-shadow: var(--shadow-lg);
  border: 1px solid var(--border);
}

.auth-header {
  text-align: center;
  margin-bottom: var(--spacing-2xl);
}

.auth-header h1 {
  font-size: 2rem;
  margin-bottom: var(--spacing-sm);
  color: var(--primary);
}

.auth-header p {
  color: var(--text-secondary);
}

.auth-form {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.form-group label {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  font-weight: 600;
  color: var(--text-primary);
}

.form-group small {
  color: var(--text-muted);
  font-size: 0.875rem;
}

.forgot-link {
  text-align: left;
  color: var(--primary);
  font-size: 0.875rem;
  margin-top: -var(--spacing-sm);
}

.auth-footer {
  text-align: center;
  margin-top: var(--spacing-lg);
  padding-top: var(--spacing-lg);
  border-top: 1px solid var(--border);
}

.auth-footer a {
  color: var(--primary);
  font-weight: 600;
}

@media (max-width: 480px) {
  .auth-card {
    padding: var(--spacing-lg);
  }

  .auth-header h1 {
    font-size: 1.5rem;
  }
}


--------------------------------------------------
File End
--------------------------------------------------


pages\Auth\ForgotPasswordPage.jsx
File type: .jsx
import React, { useState } from "react";
import { Link } from "react-router-dom";
import { toast } from "react-toastify";
import api from "../../services/api";
import { FiUser, FiMail, FiLock, FiKey } from "react-icons/fi";
import "./AuthPages.css";

const ForgotPasswordPage = () => {
  const [step, setStep] = useState(1);
  const [formData, setFormData] = useState({
    username: "",
    contact: "",
    code: "",
    new_password: "",
  });
  const [loading, setLoading] = useState(false);

  const handleChange = (e) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value,
    });
  };

  // Step 1: Request code
  const handleRequestCode = async (e) => {
    e.preventDefault();
    setLoading(true);

    try {
      const response = await api.post("/password-reset/request/", {
        username: formData.username,
        contact: formData.contact,
      });

      toast.success(response.data.message || "کد تأیید ارسال شد");

      // نمایش کد برای تست (در محیط تولید این خط حذف شود)
      if (response.data.code_for_testing) {
        toast.info(`کد شما (برای تست): ${response.data.code_for_testing}`);
      }

      setStep(2); // رفتن به مرحله بعدی
    } catch (error) {
      console.error("Password reset request error:", error.response?.data);
      toast.error(error.response?.data?.detail || "خطا در ارسال کد");
    } finally {
      setLoading(false);
    }
  };

  // Step 2: Reset password
  const handleResetPassword = async (e) => {
    e.preventDefault();
    setLoading(true);

    try {
      await api.post("/password-reset/confirm/", {
        contact: formData.contact,
        code: formData.code,
        new_password: formData.new_password,
      });

      toast.success("رمز عبور با موفقیت تغییر کرد");
      window.location.href = "/login";
    } catch (error) {
      console.error("Password reset confirm error:", error.response?.data);
      toast.error(
        error.response?.data?.detail || "کد نامعتبر یا رمز عبور ضعیف است",
      );
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="auth-page">
      <div className="auth-container">
        <div className="auth-card">
          <div className="auth-header">
            <h1>بازیابی رمز عبور</h1>
            <p>
              {step === 1
                ? "اطلاعات خود را وارد کنید"
                : "کد دریافتی و رمز جدید را وارد کنید"}
            </p>
          </div>

          {step === 1 ? (
            <form onSubmit={handleRequestCode} className="auth-form">
              <div className="form-group">
                <label>
                  <FiUser /> نام کاربری
                </label>
                <input
                  type="text"
                  name="username"
                  value={formData.username}
                  onChange={handleChange}
                  placeholder="نام کاربری خود را وارد کنید"
                  required
                />
              </div>

              <div className="form-group">
                <label>
                  <FiMail /> ایمیل یا شماره موبایل
                </label>
                <input
                  type="text"
                  name="contact"
                  value={formData.contact}
                  onChange={handleChange}
                  placeholder="example@email.com یا 09xxxxxxxxx"
                  required
                />
              </div>

              <button
                type="submit"
                className="btn btn-primary btn-large"
                disabled={loading}
              >
                {loading ? <div className="loading"></div> : "دریافت کد"}
              </button>
            </form>
          ) : (
            <form onSubmit={handleResetPassword} className="auth-form">
              <div className="form-group">
                <label>
                  <FiKey /> کد تأیید
                </label>
                <input
                  type="text"
                  name="code"
                  value={formData.code}
                  onChange={handleChange}
                  maxLength={6}
                  placeholder="کد دریافتی را وارد کنید"
                  required
                />
              </div>

              <div className="form-group">
                <label>
                  <FiLock /> رمز عبور جدید
                </label>
                <input
                  type="password"
                  name="new_password"
                  value={formData.new_password}
                  onChange={handleChange}
                  minLength={8}
                  placeholder="رمز عبور جدید"
                  required
                />
              </div>

              <button
                type="submit"
                className="btn btn-primary btn-large"
                disabled={loading}
              >
                {loading ? <div className="loading"></div> : "تغییر رمز عبور"}
              </button>
            </form>
          )}

          <div className="auth-footer">
            <Link to="/login">بازگشت به صفحه ورود</Link>
          </div>
        </div>
      </div>
    </div>
  );
};

export default ForgotPasswordPage;


--------------------------------------------------
File End
--------------------------------------------------


pages\Auth\LoginPage.jsx
File type: .jsx
import React, { useState } from "react";
import { Link, useNavigate } from "react-router-dom";
import { useAuth } from "../../context/AuthContext";
import { toast } from "react-toastify";
import { FiUser, FiLock, FiLogIn } from "react-icons/fi";
import "./AuthPages.css";

const LoginPage = () => {
  const navigate = useNavigate();
  const { login } = useAuth();
  const [formData, setFormData] = useState({
    username: "",
    password: "",
  });
  const [loading, setLoading] = useState(false);

  const handleChange = (e) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value,
    });
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    setLoading(true);

    try {
      const result = await login(formData.username, formData.password);

      if (result.success) {
        toast.success("خوش آمدید!");
        navigate("/");
      } else {
        toast.error(result.error);
      }
    } catch (error) {
      toast.error("خطا در ورود به سیستم");
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="auth-page">
      <div className="auth-container">
        <div className="auth-card">
          <div className="auth-header">
            <h1>ورود به حساب کاربری</h1>
            <p>به کتاب‌مارکت خوش آمدید</p>
          </div>

          <form onSubmit={handleSubmit} className="auth-form">
            <div className="form-group">
              <label>
                <FiUser /> نام کاربری
              </label>
              <input
                type="text"
                name="username"
                value={formData.username}
                onChange={handleChange}
                required
                placeholder="نام کاربری خود را وارد کنید"
              />
            </div>

            <div className="form-group">
              <label>
                <FiLock /> رمز عبور
              </label>
              <input
                type="password"
                name="password"
                value={formData.password}
                onChange={handleChange}
                required
                placeholder="رمز عبور خود را وارد کنید"
              />
            </div>

            <Link to="/forgot-password" className="forgot-link">
              فراموشی رمز عبور
            </Link>

            <button
              type="submit"
              className="btn btn-primary btn-large"
              disabled={loading}
            >
              {loading ? (
                <div className="loading"></div>
              ) : (
                <>
                  <FiLogIn /> ورود
                </>
              )}
            </button>
          </form>

          <div className="auth-footer">
            <p>
              حساب کاربری ندارید؟ <Link to="/register">ثبت‌نام کنید</Link>
            </p>
          </div>
        </div>
      </div>
    </div>
  );
};

export default LoginPage;


--------------------------------------------------
File End
--------------------------------------------------


pages\Auth\RegisterPage.jsx
File type: .jsx
import React, { useState } from "react";
import { Link, useNavigate } from "react-router-dom";
import { useAuth } from "../../context/AuthContext";
import { toast } from "react-toastify";
import { FiUser, FiMail, FiPhone, FiLock } from "react-icons/fi";
import "./AuthPages.css";

const RegisterPage = () => {
  const navigate = useNavigate();
  const { register } = useAuth();
  const [formData, setFormData] = useState({
    username: "",
    email: "",
    phone_number: "",
    password: "",
    confirmPassword: "",
  });
  const [loading, setLoading] = useState(false);

  const handleChange = (e) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value,
    });
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    if (formData.password !== formData.confirmPassword) {
      toast.error("رمز عبور و تکرار آن یکسان نیست");
      return;
    }

    setLoading(true);

    try {
      const { confirmPassword, ...registerData } = formData;
      const result = await register(registerData);

      if (result.success) {
        toast.success("ثبت‌نام با موفقیت انجام شد. اکنون وارد شوید");
        navigate("/login");
      } else {
        if (typeof result.error === "object") {
          Object.values(result.error).forEach((err) => {
            toast.error(Array.isArray(err) ? err[0] : err);
          });
        } else {
          toast.error(result.error);
        }
      }
    } catch (error) {
      toast.error("خطا در ثبت‌نام");
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="auth-page">
      <div className="auth-container">
        <div className="auth-card">
          <div className="auth-header">
            <h1>ثبت‌نام در کتاب‌مارکت</h1>
            <p>ایجاد حساب کاربری جدید</p>
          </div>

          <form onSubmit={handleSubmit} className="auth-form">
            <div className="form-group">
              <label>
                <FiUser /> نام کاربری
              </label>
              <input
                type="text"
                name="username"
                value={formData.username}
                onChange={handleChange}
                required
                placeholder="نام کاربری"
              />
            </div>

            <div className="form-group">
              <label>
                <FiMail /> ایمیل
              </label>
              <input
                type="email"
                name="email"
                value={formData.email}
                onChange={handleChange}
                required
                placeholder="example@email.com"
              />
            </div>

            <div className="form-group">
              <label>
                <FiPhone /> شماره موبایل
              </label>
              <input
                type="text"
                name="phone_number"
                value={formData.phone_number}
                onChange={handleChange}
                required
                placeholder="09xxxxxxxxx"
                pattern="09[0-9]{9}"
              />
              <small>شماره موبایل باید با 09 شروع شود و 11 رقم باشد</small>
            </div>

            <div className="form-group">
              <label>
                <FiLock /> رمز عبور
              </label>
              <input
                type="password"
                name="password"
                value={formData.password}
                onChange={handleChange}
                required
                minLength="8"
                placeholder="حداقل 8 کاراکتر"
              />
            </div>

            <div className="form-group">
              <label>
                <FiLock /> تکرار رمز عبور
              </label>
              <input
                type="password"
                name="confirmPassword"
                value={formData.confirmPassword}
                onChange={handleChange}
                required
                placeholder="تکرار رمز عبور"
              />
            </div>

            <button
              type="submit"
              className="btn btn-primary btn-large"
              disabled={loading}
            >
              {loading ? <div className="loading"></div> : "ثبت‌نام"}
            </button>
          </form>

          <div className="auth-footer">
            <p>
              قبلاً ثبت‌نام کرده‌اید؟ <Link to="/login">وارد شوید</Link>
            </p>
          </div>
        </div>
      </div>
    </div>
  );
};

export default RegisterPage;


--------------------------------------------------
File End
--------------------------------------------------


pages\Info\BuyingGuidePage.jsx
File type: .jsx
import React from "react";
import { Link } from "react-router-dom";
import {
  FiSearch,
  FiShoppingCart,
  FiCheckCircle,
  FiAlertCircle,
} from "react-icons/fi";
import "./InfoPages.css";

const BuyingGuidePage = () => {
  return (
    <div className="info-page">
      <div className="container">
        <div className="page-header">
          <h1>راهنمای خرید</h1>
          <p>مراحل خرید کتاب از کتاب‌مارکت</p>
        </div>

        <div className="info-content">
          <section className="guide-section">
            <div className="guide-step">
              <div className="step-icon">
                <span className="step-number">1</span>
              </div>
              <div className="step-content">
                <h2>جستجو و یافتن کتاب</h2>
                <p>
                  از صفحه <Link to="/books">کتاب‌ها</Link> شروع کنید و با
                  استفاده از فیلترها کتاب مورد نظر خود را پیدا کنید. می‌توانید
                  بر اساس دسته‌بندی، نویسنده، قیمت و وضعیت کتاب جستجو کنید.
                </p>
                <ul>
                  <li>استفاده از نوار جستجو برای یافتن سریع کتاب</li>
                  <li>فیلتر کردن بر اساس قیمت و وضعیت</li>
                  <li>مرتب‌سازی نتایج بر اساس جدیدترین یا ارزان‌ترین</li>
                </ul>
              </div>
            </div>

            <div className="guide-step">
              <div className="step-icon">
                <span className="step-number">2</span>
              </div>
              <div className="step-content">
                <h2>بررسی جزئیات کتاب</h2>
                <p>
                  روی کتاب مورد نظر کلیک کنید تا جزئیات کامل آن را مشاهده کنید:
                </p>
                <ul>
                  <li>عنوان، نویسنده و توضیحات کامل کتاب</li>
                  <li>قیمت و وضعیت (نو یا دست دوم)</li>
                  <li>اطلاعات فروشنده و راه‌های تماس</li>
                  <li>تصاویر کتاب</li>
                </ul>
              </div>
            </div>

            <div className="guide-step">
              <div className="step-icon">
                <span className="step-number">3</span>
              </div>
              <div className="step-content">
                <h2>ثبت سفارش</h2>
                <p>
                  بعد از اطمینان از انتخاب خود، روی دکمه "خرید کتاب" کلیک کنید.
                  اگر حساب کاربری ندارید، ابتدا باید{" "}
                  <Link to="/register">ثبت‌نام</Link> کنید.
                </p>
              </div>
            </div>

            <div className="guide-step">
              <div className="step-icon">
                <span className="step-number">4</span>
              </div>
              <div className="step-content">
                <h2>پرداخت آنلاین</h2>
                <p>
                  به صفحه پرداخت منتقل می‌شوید. روش پرداخت خود را انتخاب کنید:
                </p>
                <ul>
                  <li>پرداخت آنلاین با کلیه کارت‌های بانکی</li>
                  <li>پرداخت از کیف پول (در صورت وجود موجودی)</li>
                </ul>
                <div className="alert alert-success">
                  <FiCheckCircle />
                  <span>
                    تمام تراکنش‌ها از طریق درگاه امن بانکی انجام می‌شود
                  </span>
                </div>
              </div>
            </div>

            <div className="guide-step">
              <div className="step-icon">
                <span className="step-number">5</span>
              </div>
              <div className="step-content">
                <h2>تأیید و پیگیری سفارش</h2>
                <p>
                  پس از پرداخت موفق، کد پیگیری برای شما ارسال می‌شود. می‌توانید
                  از بخش <Link to="/my-orders">سفارشات من</Link> وضعیت سفارش خود
                  را پیگیری کنید.
                </p>
              </div>
            </div>
          </section>

          <section className="tips-section">
            <h2>نکات مهم</h2>
            <div className="tips-grid">
              <div className="tip-card">
                <FiAlertCircle />
                <h3>بررسی اطلاعات</h3>
                <p>
                  قبل از خرید، اطلاعات فروشنده و توضیحات کتاب را به دقت بررسی
                  کنید
                </p>
              </div>

              <div className="tip-card">
                <FiCheckCircle />
                <h3>حفظ کد پیگیری</h3>
                <p>کد پیگیری سفارش خود را یادداشت کنید یا اسکرین‌شات بگیرید</p>
              </div>

              <div className="tip-card">
                <FiShoppingCart />
                <h3>تحویل کتاب</h3>
                <p>
                  با فروشنده هماهنگ کنید و کتاب را به صورت حضوری تحویل بگیرید
                </p>
              </div>
            </div>
          </section>

          <section className="faq-section">
            <h2>سوالات متداول</h2>

            <div className="faq-item">
              <h3>آیا می‌توانم سفارش خود را لغو کنم؟</h3>
              <p>
                بله، قبل از تحویل کتاب می‌توانید با پشتیبانی تماس بگیرید و
                درخواست لغو سفارش دهید.
              </p>
            </div>

            <div className="faq-item">
              <h3>اگر کتاب مشکل داشت چه کنم؟</h3>
              <p>
                در صورت وجود هرگونه مشکل، از بخش{" "}
                <Link to="/support">پشتیبانی</Link> تیکت ارسال کنید.
              </p>
            </div>

            <div className="faq-item">
              <h3>چگونه با فروشنده تماس بگیرم؟</h3>
              <p>
                اطلاعات تماس فروشنده (شماره موبایل) در صفحه جزئیات کتاب نمایش
                داده می‌شود.
              </p>
            </div>
          </section>
        </div>
      </div>
    </div>
  );
};

export default BuyingGuidePage;


--------------------------------------------------
File End
--------------------------------------------------


pages\Info\FAQPage.jsx
File type: .jsx
import React, { useState } from "react";
import { FiChevronDown, FiChevronUp, FiHelpCircle } from "react-icons/fi";
import { Link } from "react-router-dom";
import "./InfoPages.css";

const FAQPage = () => {
  const [openIndex, setOpenIndex] = useState(null);

  const toggleFAQ = (index) => {
    setOpenIndex(openIndex === index ? null : index);
  };

  const faqs = [
    {
      category: "عمومی",
      items: [
        {
          question: "کتاب‌مارکت چیست؟",
          answer:
            "کتاب‌مارکت یک پلتفرم آنلاین برای خرید و فروش کتاب‌های دست دوم است. این پلتفرم به شما امکان می‌دهد کتاب‌های خود را به فروش برسانید یا کتاب‌های مورد نیاز را با قیمت مناسب خریداری کنید.",
        },
        {
          question: "آیا استفاده از کتاب‌مارکت رایگان است؟",
          answer:
            "بله، ثبت‌نام و استفاده از خدمات کتاب‌مارکت کاملاً رایگان است. هیچ هزینه‌ای برای ثبت‌نام، افزودن کتاب یا خرید از شما دریافت نمی‌شود.",
        },
        {
          question: "چگونه می‌توانم عضو شوم؟",
          answer:
            'از منوی بالای سایت روی دکمه "ثبت‌نام" کلیک کنید و فرم را با اطلاعات صحیح پر کنید. پس از ثبت‌نام، می‌توانید به تمام امکانات دسترسی داشته باشید.',
        },
      ],
    },
    {
      category: "خرید",
      items: [
        {
          question: "چگونه کتاب خریداری کنم؟",
          answer:
            'ابتدا از صفحه کتاب‌ها، کتاب مورد نظر را پیدا کنید. سپس روی آن کلیک کرده و "خرید کتاب" را انتخاب کنید. بعد از پرداخت، اطلاعات فروشنده برای هماهنگی تحویل در اختیار شما قرار می‌گیرد.',
        },
        {
          question: "روش‌های پرداخت چیست؟",
          answer:
            "شما می‌توانید از طریق درگاه پرداخت آنلاین با تمام کارت‌های بانکی پرداخت کنید. همچنین امکان پرداخت از کیف پول (در صورت وجود موجودی) نیز وجود دارد.",
        },
        {
          question: "آیا می‌توانم سفارش را لغو کنم؟",
          answer:
            "بله، قبل از تحویل کتاب می‌توانید با پشتیبانی تماس بگیرید و درخواست لغو سفارش دهید. در صورت تأیید، وجه پرداختی به حساب شما بازگردانده می‌شود.",
        },
        {
          question: "کتاب چگونه تحویل داده می‌شود؟",
          answer:
            "تحویل کتاب به صورت حضوری و با هماهنگی مستقیم بین شما و فروشنده انجام می‌شود. توصیه می‌کنیم تحویل در مکان‌های عمومی و امن انجام شود.",
        },
        {
          question: "اگر کتاب مشکل داشت چه کنم؟",
          answer:
            "در صورت وجود هرگونه مشکل یا عدم تطابق کتاب با توضیحات، می‌توانید از طریق بخش پشتیبانی تیکت ارسال کنید. تیم ما در اسرع وقت به شما پاسخ خواهد داد.",
        },
      ],
    },
    {
      category: "فروش",
      items: [
        {
          question: "چگونه می‌توانم کتاب بفروشم؟",
          answer:
            'ابتدا باید به عنوان فروشنده ثبت‌نام کنید. سپس از بخش "افزودن کتاب" اطلاعات کتاب خود را وارد کنید. بعد از تأیید توسط مدیر، کتاب شما قابل نمایش و خرید خواهد بود.',
        },
        {
          question: "چقدر طول می‌کشد تا کتابم تأیید شود؟",
          answer:
            'معمولاً بررسی و تأیید کتاب‌ها کمتر از 24 ساعت زمان می‌برد. شما می‌توانید وضعیت کتاب‌های خود را از بخش "انبار من" پیگیری کنید.',
        },
        {
          question: "قیمت کتاب را چگونه تعیین کنم؟",
          answer:
            'قیمت را بر اساس وضعیت کتاب (نو یا دست دوم) و قیمت اصلی تعیین کنید. برای راهنمایی بیشتر، صفحه "راهنمای فروش" را مطالعه کنید.',
        },
        {
          question: "چند کتاب می‌توانم اضافه کنم؟",
          answer:
            "محدودیتی برای تعداد کتاب‌های قابل افزودن وجود ندارد. می‌توانید هر تعداد که بخواهید کتاب اضافه کنید.",
        },
        {
          question: "آیا می‌توانم کتاب را ویرایش کنم؟",
          answer:
            'بله، از بخش "انبار من" می‌توانید کتاب‌های خود را ویرایش یا حذف کنید. توجه داشته باشید که پس از ویرایش، کتاب مجدداً باید توسط مدیر تأیید شود.',
        },
      ],
    },
    {
      category: "پرداخت و مالی",
      items: [
        {
          question: "آیا پرداخت امن است؟",
          answer:
            "بله، کاملاً امن است. تمام پرداخت‌ها از طریق درگاه‌های معتبر بانکی و با رعایت استانداردهای امنیتی انجام می‌شود.",
        },
        {
          question: "کد پیگیری چیست؟",
          answer:
            "کد پیگیری یک شماره منحصر به فرد است که بعد از پرداخت موفق به شما داده می‌شود. با این کد می‌توانید وضعیت سفارش خود را پیگیری کنید.",
        },
        {
          question: "چگونه فاکتور دریافت کنم؟",
          answer:
            'پس از پرداخت موفق، در صفحه تأیید پرداخت می‌توانید فاکتور را مشاهده و دانلود کنید. همچنین از بخش "سفارشات من" نیز قابل دسترسی است.',
        },
        {
          question: "آیا می‌توانم تراکنش‌های قبلی را ببینم؟",
          answer:
            'بله، از بخش "تراکنش‌های من" می‌توانید تمام تاریخچه پرداخت‌های خود را مشاهده کنید.',
        },
      ],
    },
    {
      category: "حساب کاربری",
      items: [
        {
          question: "رمز عبور خود را فراموش کرده‌ام",
          answer:
            'از صفحه ورود، روی "فراموشی رمز عبور" کلیک کنید. یک کد تأیید برای شما ارسال می‌شود که با آن می‌توانید رمز جدید تعیین کنید.',
        },
        {
          question: "چگونه اطلاعات پروفایل را تغییر دهم؟",
          answer:
            'از بخش "پروفایل من" می‌توانید اطلاعات شخصی خود مانند نام، ایمیل و شماره تماس را ویرایش کنید.',
        },
        {
          question: "چگونه نقش خود را تغییر دهم؟",
          answer:
            "برای تغییر نقش از خریدار به فروشنده، می‌توانید با پشتیبانی تماس بگیرید یا از طریق پنل مدیریت (در صورت دسترسی) تغییر دهید.",
        },
        {
          question: "چگونه حساب خود را حذف کنم؟",
          answer:
            "برای حذف حساب کاربری، لطفاً از طریق بخش پشتیبانی درخواست دهید. توجه داشته باشید که این عمل غیرقابل بازگشت است.",
        },
      ],
    },
    {
      category: "پشتیبانی",
      items: [
        {
          question: "چگونه با پشتیبانی تماس بگیرم؟",
          answer:
            'از بخش "پشتیبانی" می‌توانید تیکت ارسال کنید. همچنین می‌توانید از طریق ایمیل support@bookmarket.ir یا شماره تلفن 021-12345678 با ما در تماس باشید.',
        },
        {
          question: "چقدر طول می‌کشد تا به تیکتم پاسخ دهید؟",
          answer:
            "معمولاً ظرف 24 ساعت به تیکت‌ها پاسخ داده می‌شود. در ایام تعطیل ممکن است کمی بیشتر طول بکشد.",
        },
        {
          question: "چگونه کاربر یا کتابی را گزارش کنم؟",
          answer:
            'اگر محتوای نامناسب یا تخلف مشاهده کردید، می‌توانید از طریق بخش پشتیبانی با موضوع "گزارش" تیکت ارسال کنید.',
        },
      ],
    },
  ];

  return (
    <div className="info-page">
      <div className="container">
        <div className="page-header">
          <h1>سوالات متداول</h1>
          <p>پاسخ سوالات رایج کاربران</p>
        </div>

        <div className="info-content">
          <div className="faq-intro">
            <FiHelpCircle size={48} />
            <p>
              در اینجا پاسخ رایج‌ترین سوالات را می‌یابید. اگر سوال شما پاسخ داده
              نشد، از طریق <Link to="/support">پشتیبانی</Link> با ما تماس
              بگیرید.
            </p>
          </div>

          {faqs.map((category, catIndex) => (
            <div key={catIndex} className="faq-category">
              <h2 className="category-title">{category.category}</h2>
              <div className="faq-list">
                {category.items.map((faq, faqIndex) => {
                  const index = `${catIndex}-${faqIndex}`;
                  const isOpen = openIndex === index;

                  return (
                    <div
                      key={index}
                      className={`faq-item ${isOpen ? "open" : ""}`}
                    >
                      <button
                        className="faq-question"
                        onClick={() => toggleFAQ(index)}
                      >
                        <span>{faq.question}</span>
                        {isOpen ? <FiChevronUp /> : <FiChevronDown />}
                      </button>
                      {isOpen && (
                        <div className="faq-answer">
                          <p>{faq.answer}</p>
                        </div>
                      )}
                    </div>
                  );
                })}
              </div>
            </div>
          ))}

          <div className="faq-footer">
            <h3>سوال شما پاسخ داده نشد؟</h3>
            <p>تیم پشتیبانی ما آماده پاسخگویی به سوالات شماست.</p>
            <Link to="/support" className="btn btn-primary">
              تماس با پشتیبانی
            </Link>
          </div>
        </div>
      </div>
    </div>
  );
};

export default FAQPage;


--------------------------------------------------
File End
--------------------------------------------------


pages\Info\InfoPages.css
File type: .css
.info-page {
  min-height: 100vh;
  padding: var(--spacing-2xl) 0;
  background: var(--bg-primary);
}

.info-content {
  max-width: 900px;
  margin: 0 auto;
}

/* Guide Sections */
.guide-section {
  margin-bottom: var(--spacing-2xl);
}

.guide-step {
  display: flex;
  gap: var(--spacing-xl);
  margin-bottom: var(--spacing-2xl);
  padding: var(--spacing-xl);
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
}

.step-icon {
  flex-shrink: 0;
}

.step-number {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 60px;
  height: 60px;
  background: linear-gradient(
    135deg,
    var(--primary) 0%,
    var(--primary-dark) 100%
  );
  color: white;
  border-radius: 50%;
  font-size: 1.5rem;
  font-weight: 800;
}

.step-content {
  flex: 1;
}

.step-content h2 {
  margin-bottom: var(--spacing-md);
  color: var(--primary);
}

.step-content p {
  line-height: 1.8;
  margin-bottom: var(--spacing-md);
}

.step-content ul {
  list-style: none;
  padding: 0;
}

.step-content ul li {
  padding: var(--spacing-xs) 0;
  padding-right: var(--spacing-lg);
  position: relative;
}

.step-content ul li::before {
  content: "✓";
  position: absolute;
  right: 0;
  color: var(--success);
  font-weight: 700;
}

/* Alerts */
.alert {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  padding: var(--spacing-md);
  border-radius: var(--radius-md);
  margin: var(--spacing-lg) 0;
}

.alert.alert-success {
  background: rgba(44, 95, 45, 0.1);
  border: 1px solid var(--success);
  color: var(--success);
}

.alert.alert-warning {
  background: rgba(212, 165, 116, 0.1);
  border: 1px solid var(--warning);
  color: var(--warning);
}

.alert.alert-info {
  background: rgba(74, 124, 157, 0.1);
  border: 1px solid var(--info);
  color: var(--info);
}

.alert svg {
  font-size: 1.5rem;
  flex-shrink: 0;
}

/* Tips Section */
.tips-section {
  margin: var(--spacing-2xl) 0;
}

.tips-section h2 {
  text-align: center;
  margin-bottom: var(--spacing-xl);
}

.tips-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--spacing-lg);
}

.tip-card {
  background: var(--bg-tertiary);
  padding: var(--spacing-xl);
  border-radius: var(--radius-lg);
  text-align: center;
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--border);
  transition: all 0.3s ease;
}

.tip-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-md);
}

.tip-card svg {
  font-size: 3rem;
  color: var(--primary);
  margin-bottom: var(--spacing-md);
}

.tip-card h3 {
  margin-bottom: var(--spacing-sm);
  color: var(--text-primary);
}

.tip-card p {
  margin: 0;
  color: var(--text-secondary);
  font-size: 0.9rem;
}

/* Pricing Guide */
.pricing-guide {
  background: var(--bg-tertiary);
  padding: var(--spacing-xl);
  border-radius: var(--radius-lg);
  margin: var(--spacing-2xl) 0;
}

.pricing-guide h2 {
  margin-bottom: var(--spacing-lg);
  text-align: center;
}

.pricing-table {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.pricing-row {
  display: flex;
  justify-content: space-between;
  padding: var(--spacing-md);
  background: var(--bg-secondary);
  border-radius: var(--radius-md);
}

.pricing-row .condition {
  color: var(--text-primary);
  font-weight: 500;
}

.pricing-row .percentage {
  color: var(--primary);
  font-weight: 700;
}

/* Terms Page */
.terms-section {
  margin-bottom: var(--spacing-2xl);
  background: var(--bg-tertiary);
  padding: var(--spacing-xl);
  border-radius: var(--radius-lg);
}

.terms-section h2 {
  color: var(--primary);
  margin-bottom: var(--spacing-md);
  padding-bottom: var(--spacing-sm);
  border-bottom: 2px solid var(--border);
}

.terms-section h3 {
  margin: var(--spacing-lg) 0 var(--spacing-md) 0;
  color: var(--text-primary);
}

.terms-section p {
  line-height: 1.8;
  margin-bottom: var(--spacing-md);
}

.terms-list {
  list-style: none;
  padding: 0;
}

.terms-list li {
  padding: var(--spacing-sm) 0 var(--spacing-sm) var(--spacing-xl);
  position: relative;
  line-height: 1.7;
}

.terms-list li::before {
  content: "•";
  position: absolute;
  right: var(--spacing-md);
  color: var(--primary);
  font-weight: 700;
  font-size: 1.2rem;
}

.prohibited-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.prohibited-item {
  display: flex;
  gap: var(--spacing-md);
  padding: var(--spacing-md);
  background: rgba(196, 69, 54, 0.05);
  border-radius: var(--radius-md);
  border-right: 3px solid var(--error);
}

.prohibited-item .icon-warning {
  font-size: 2rem;
  color: var(--error);
  flex-shrink: 0;
}

.prohibited-item h4 {
  margin-bottom: var(--spacing-xs);
  color: var(--error);
}

.prohibited-item p {
  margin: 0;
  color: var(--text-secondary);
}

.contact-section {
  background: var(--bg-secondary);
  padding: var(--spacing-xl);
  border-radius: var(--radius-lg);
  text-align: center;
  margin-top: var(--spacing-2xl);
}

.contact-section h2 {
  margin-bottom: var(--spacing-md);
}

.contact-section a {
  color: var(--primary);
  font-weight: 600;
}

/* FAQ Page */
.faq-intro {
  text-align: center;
  padding: var(--spacing-2xl);
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  margin-bottom: var(--spacing-2xl);
}

.faq-intro svg {
  color: var(--primary);
  margin-bottom: var(--spacing-md);
}

.faq-intro p {
  font-size: 1.125rem;
  color: var(--text-secondary);
  margin: 0;
}

.faq-category {
  margin-bottom: var(--spacing-2xl);
}

.category-title {
  font-size: 1.5rem;
  margin-bottom: var(--spacing-lg);
  color: var(--primary);
  padding-bottom: var(--spacing-sm);
  border-bottom: 2px solid var(--border);
}

.faq-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.faq-item {
  background: var(--bg-tertiary);
  border-radius: var(--radius-md);
  border: 1px solid var(--border);
  overflow: hidden;
  transition: all 0.2s ease;
}

.faq-item.open {
  box-shadow: var(--shadow-md);
}

.faq-question {
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-md) var(--spacing-lg);
  background: none;
  border: none;
  text-align: right;
  font-size: 1rem;
  font-weight: 600;
  color: var(--text-primary);
  cursor: pointer;
  transition: background 0.2s ease;
}

.faq-question:hover {
  background: var(--bg-secondary);
}

.faq-question svg {
  font-size: 1.25rem;
  color: var(--primary);
}

.faq-answer {
  padding: 0 var(--spacing-lg) var(--spacing-lg) var(--spacing-lg);
  animation: slideDown 0.3s ease;
}

.faq-answer p {
  margin: 0;
  line-height: 1.8;
  color: var(--text-secondary);
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.faq-footer {
  text-align: center;
  padding: var(--spacing-2xl);
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  margin-top: var(--spacing-2xl);
}

.faq-footer h3 {
  margin-bottom: var(--spacing-sm);
}

.faq-footer p {
  margin-bottom: var(--spacing-lg);
  color: var(--text-secondary);
}

/* Responsive */
@media (max-width: 768px) {
  .guide-step {
    flex-direction: column;
  }

  .tips-grid {
    grid-template-columns: 1fr;
  }

  .step-content ul li {
    padding-right: var(--spacing-md);
  }
}


--------------------------------------------------
File End
--------------------------------------------------


pages\Info\SellingGuidePage.jsx
File type: .jsx
import React from "react";
import { Link } from "react-router-dom";
import { FiUpload, FiDollarSign, FiCheckCircle } from "react-icons/fi";
import "./InfoPages.css";

const SellingGuidePage = () => {
  return (
    <div className="info-page">
      <div className="container">
        <div className="page-header">
          <h1>راهنمای فروش</h1>
          <p>مراحل فروش کتاب در کتاب‌مارکت</p>
        </div>

        <div className="info-content">
          <section className="guide-section">
            <div className="guide-step">
              <div className="step-icon">
                <span className="step-number">1</span>
              </div>
              <div className="step-content">
                <h2>ثبت‌نام به عنوان فروشنده</h2>
                <p>
                  ابتدا باید <Link to="/register">ثبت‌نام</Link> کنید. در صورتی
                  که قبلاً ثبت‌نام کرده‌اید، می‌توانید از طریق پنل کاربری نقش
                  خود را به فروشنده تغییر دهید.
                </p>
              </div>
            </div>

            <div className="guide-step">
              <div className="step-icon">
                <span className="step-number">2</span>
              </div>
              <div className="step-content">
                <h2>افزودن کتاب</h2>
                <p>
                  از منوی <Link to="/seller/add-book">افزودن کتاب</Link> در پنل
                  فروشنده استفاده کنید. اطلاعات زیر را با دقت وارد کنید:
                </p>
                <ul>
                  <li>عنوان و نام نویسنده کتاب</li>
                  <li>دسته‌بندی مناسب</li>
                  <li>قیمت واقعی و منصفانه</li>
                  <li>وضعیت کتاب (نو یا دست دوم)</li>
                  <li>توضیحات کامل درباره کتاب</li>
                  <li>تصویر واضح از کتاب</li>
                </ul>
              </div>
            </div>

            <div className="guide-step">
              <div className="step-icon">
                <span className="step-number">3</span>
              </div>
              <div className="step-content">
                <h2>تأیید کتاب توسط مدیر</h2>
                <p>
                  بعد از ثبت، کتاب شما توسط تیم مدیریت بررسی می‌شود. این فرآیند
                  معمولاً 24 ساعت زمان می‌برد.
                </p>
                <div className="alert alert-info">
                  <FiCheckCircle />
                  <span>
                    از صفحه <Link to="/seller/inventory">انبار من</Link>{" "}
                    می‌توانید وضعیت کتاب‌های خود را پیگیری کنید
                  </span>
                </div>
              </div>
            </div>

            <div className="guide-step">
              <div className="step-icon">
                <span className="step-number">4</span>
              </div>
              <div className="step-content">
                <h2>دریافت سفارش</h2>
                <p>
                  وقتی کسی کتاب شما را خریداری کرد، از طریق اعلان مطلع می‌شوید.
                  اطلاعات خریدار برای هماهنگی تحویل در اختیار شما قرار می‌گیرد.
                </p>
              </div>
            </div>

            <div className="guide-step">
              <div className="step-icon">
                <span className="step-number">5</span>
              </div>
              <div className="step-content">
                <h2>تحویل کتاب</h2>
                <p>
                  با خریدار هماهنگ کنید و کتاب را تحویل دهید. توصیه می‌کنیم
                  تحویل را در مکان‌های عمومی و امن انجام دهید.
                </p>
              </div>
            </div>
          </section>

          <section className="tips-section">
            <h2>نکات فروش موفق</h2>
            <div className="tips-grid">
              <div className="tip-card">
                <FiUpload />
                <h3>تصویر باکیفیت</h3>
                <p>
                  از تصاویر واضح و روشن استفاده کنید تا خریداران بهتر کتاب را
                  ببینند
                </p>
              </div>

              <div className="tip-card">
                <FiDollarSign />
                <h3>قیمت‌گذاری منصفانه</h3>
                <p>قیمت واقعی و مناسب با وضعیت کتاب تعیین کنید</p>
              </div>

              <div className="tip-card">
                <FiCheckCircle />
                <h3>توضیحات کامل</h3>
                <p>تمام جزئیات و وضعیت کتاب را به صراحت ذکر کنید</p>
              </div>
            </div>
          </section>

          <section className="pricing-guide">
            <h2>راهنمای قیمت‌گذاری</h2>
            <div className="pricing-table">
              <div className="pricing-row">
                <span className="condition">کتاب نو (بدون استفاده)</span>
                <span className="percentage">70-90% قیمت اصلی</span>
              </div>
              <div className="pricing-row">
                <span className="condition">کتاب کمی استفاده شده</span>
                <span className="percentage">50-70% قیمت اصلی</span>
              </div>
              <div className="pricing-row">
                <span className="condition">کتاب استفاده شده معمولی</span>
                <span className="percentage">30-50% قیمت اصلی</span>
              </div>
              <div className="pricing-row">
                <span className="condition">کتاب قدیمی یا فرسوده</span>
                <span className="percentage">10-30% قیمت اصلی</span>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>
  );
};

export default SellingGuidePage;


--------------------------------------------------
File End
--------------------------------------------------


pages\Info\TermsPage.jsx
File type: .jsx
import React from "react";
import { FiAlertCircle, FiCheckCircle, FiShield } from "react-icons/fi";
import "./InfoPages.css";

const TermsPage = () => {
  return (
    <div className="info-page">
      <div className="container">
        <div className="page-header">
          <h1>قوانین و مقررات</h1>
          <p>شرایط استفاده از کتاب‌مارکت</p>
        </div>

        <div className="info-content">
          <div className="alert alert-warning">
            <FiAlertCircle />
            <span>
              لطفاً قبل از استفاده از خدمات کتاب‌مارکت، قوانین زیر را با دقت
              مطالعه کنید.
            </span>
          </div>

          <section className="terms-section">
            <h2>۱. پذیرش قوانین</h2>
            <p>
              با ثبت‌نام و استفاده از خدمات کتاب‌مارکت، شما تمامی قوانین و
              مقررات این پلتفرم را می‌پذیرید. در صورت عدم موافقت با هر یک از
              شرایط، لطفاً از خدمات استفاده نکنید.
            </p>
          </section>

          <section className="terms-section">
            <h2>۲. حساب کاربری</h2>
            <ul className="terms-list">
              <li>اطلاعات ثبت‌نام باید صحیح و کامل باشد</li>
              <li>هر فرد تنها مجاز به ایجاد یک حساب کاربری است</li>
              <li>رمز عبور خود را محرمانه نگه دارید</li>
              <li>
                مسئولیت تمام فعالیت‌های انجام شده از حساب شما بر عهده شماست
              </li>
              <li>در صورت مشاهده فعالیت مشکوک، بلافاصله به ما اطلاع دهید</li>
            </ul>
          </section>

          <section className="terms-section">
            <h2>۳. قوانین فروش</h2>
            <h3>۳.۱. محتوای مجاز</h3>
            <ul className="terms-list">
              <li>فقط کتاب‌های قانونی و دارای مجوز قابل فروش هستند</li>
              <li>فروش کتاب‌های کپی‌رایت شده یا غیرقانونی ممنوع است</li>
              <li>کتاب‌های با محتوای نامناسب یا خلاف قوانین حذف می‌شوند</li>
            </ul>

            <h3>۳.۲. قیمت‌گذاری</h3>
            <ul className="terms-list">
              <li>قیمت‌گذاری باید منصفانه و مطابق با وضعیت کتاب باشد</li>
              <li>قیمت‌های غیرمنطقب یا کلاهبرداری ممنوع است</li>
              <li>پس از تأیید، قیمت نباید به صورت غیرمعقول تغییر کند</li>
            </ul>

            <h3>۳.۳. توضیحات و تصاویر</h3>
            <ul className="terms-list">
              <li>توضیحات باید کامل، دقیق و صادقانه باشد</li>
              <li>تصاویر باید واقعی و مربوط به خود کتاب باشد</li>
              <li>اطلاعات گمراه‌کننده ممنوع است</li>
            </ul>
          </section>

          <section className="terms-section">
            <h2>۴. قوانین خرید</h2>
            <ul className="terms-list">
              <li>
                خریدار موظف است قبل از خرید، اطلاعات کتاب را با دقت بررسی کند
              </li>
              <li>
                پس از خرید و پرداخت، لغو سفارش تنها با موافقت فروشنده امکان‌پذیر
                است
              </li>
              <li>خریدار باید در زمان مقرر، کتاب را تحویل بگیرد</li>
              <li>در صورت بروز مشکل، باید از طریق تیکت پشتیبانی اقدام شود</li>
            </ul>
          </section>

          <section className="terms-section">
            <h2>۵. پرداخت و تراکنش‌های مالی</h2>
            <ul className="terms-list">
              <li>تمام پرداخت‌ها از طریق درگاه‌های معتبر بانکی انجام می‌شود</li>
              <li>کتاب‌مارکت مسئولیتی در قبال مشکلات درگاه بانکی ندارد</li>
              <li>
                استرداد وجه تنها در موارد خاص و با تأیید مدیریت امکان‌پذیر است
              </li>
              <li>کاربران باید اطلاعات پرداخت خود را محرمانه نگه دارند</li>
            </ul>
          </section>

          <section className="terms-section">
            <h2>۶. تحویل و انتقال</h2>
            <ul className="terms-list">
              <li>تحویل کتاب به صورت حضوری و با هماهنگی طرفین انجام می‌شود</li>
              <li>کتاب‌مارکت واسط معرفی است و مسئولیتی در قبال تحویل ندارد</li>
              <li>توصیه می‌شود تحویل در مکان‌های عمومی و امن انجام شود</li>
              <li>مسئولیت بررسی کتاب در زمان تحویل بر عهده خریدار است</li>
            </ul>
          </section>

          <section className="terms-section">
            <h2>۷. حریم خصوصی</h2>
            <ul className="terms-list">
              <li>اطلاعات شخصی کاربران محفوظ و محرمانه نگهداری می‌شود</li>
              <li>
                اطلاعات تماس تنها بین خریدار و فروشنده به اشتراک گذاشته می‌شود
              </li>
              <li>کتاب‌مارکت حق دارد داده‌های آماری غیرشخصی را استفاده کند</li>
              <li>اطلاعات کاربران بدون اجازه به شخص ثالث داده نمی‌شود</li>
            </ul>
          </section>

          <section className="terms-section">
            <h2>۸. رفتارهای ممنوع</h2>
            <div className="prohibited-list">
              <div className="prohibited-item">
                <FiAlertCircle className="icon-warning" />
                <div>
                  <h4>کلاهبرداری و فریب</h4>
                  <p>
                    هرگونه فعالیت کلاهبرداری منجر به مسدودی دائمی حساب می‌شود
                  </p>
                </div>
              </div>

              <div className="prohibited-item">
                <FiAlertCircle className="icon-warning" />
                <div>
                  <h4>هرزنامه و تبلیغات</h4>
                  <p>ارسال پیام‌های تبلیغاتی یا هرزنامه به کاربران ممنوع است</p>
                </div>
              </div>

              <div className="prohibited-item">
                <FiAlertCircle className="icon-warning" />
                <div>
                  <h4>سوءاستفاده از سیستم</h4>
                  <p>ایجاد حساب‌های متعدد یا سوءاستفاده از امکانات ممنوع است</p>
                </div>
              </div>

              <div className="prohibited-item">
                <FiAlertCircle className="icon-warning" />
                <div>
                  <h4>محتوای نامناسب</h4>
                  <p>
                    انتشار محتوای توهین‌آمیز، تهدیدآمیز یا نامناسب ممنوع است
                  </p>
                </div>
              </div>
            </div>
          </section>

          <section className="terms-section">
            <h2>۹. مسئولیت‌ها</h2>
            <ul className="terms-list">
              <li>
                کتاب‌مارکت صرفاً یک پلتفرم واسط است و مسئولیت معاملات با کاربران
                است
              </li>
              <li>
                ما مسئولیتی در قبال کیفیت، صحت یا قانونی بودن کتاب‌ها نداریم
              </li>
              <li>اختلافات باید بین خریدار و فروشنده حل شود</li>
              <li>
                در صورت تخلف، کتاب‌مارکت حق حذف محتوا یا مسدودی حساب را دارد
              </li>
            </ul>
          </section>

          <section className="terms-section">
            <h2>۱۰. تغییرات قوانین</h2>
            <p>
              کتاب‌مارکت حق دارد این قوانین را در هر زمان تغییر دهد. تغییرات در
              همین صفحه منتشر می‌شود و استفاده مستمر از خدمات به معنای پذیرش
              قوانین جدید است.
            </p>
          </section>

          <section className="terms-section">
            <h2>۱۱. قانون حاکم</h2>
            <p>
              این قوانین تابع قوانین جمهوری اسلامی ایران است و هرگونه اختلاف در
              صلاحیت محاکم قضایی ایران حل و فصل خواهد شد.
            </p>
          </section>

          <div className="alert alert-success">
            <FiCheckCircle />
            <span>
              با رعایت این قوانین، به ایجاد یک جامعه سالم و امن کمک کنید.
            </span>
          </div>

          <section className="contact-section">
            <h2>تماس با ما</h2>
            <p>
              در صورت هرگونه سوال یا ابهام درباره قوانین، از طریق{" "}
              <a href="/support">پشتیبانی</a> با ما در تماس باشید.
            </p>
          </section>
        </div>
      </div>
    </div>
  );
};

export default TermsPage;


--------------------------------------------------
File End
--------------------------------------------------


pages\Seller\AddBookPage.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { useNavigate } from "react-router-dom";
import { toast } from "react-toastify";
import { FiSave, FiArrowRight, FiImage } from "react-icons/fi";
import api from "../../services/api";
import "./SellerPages.css";

const AddBookPage = () => {
  const navigate = useNavigate();
  const [categories, setCategories] = useState([]);
  const [loading, setLoading] = useState(false);
  const [imagePreview, setImagePreview] = useState(null);
  const [formData, setFormData] = useState({
    title: "",
    author: "",
    category: "",
    price: "",
    condition: "used",
    description: "",
    image: null,
  });

  useEffect(() => {
    fetchCategories();
  }, []);

  const fetchCategories = async () => {
    try {
      const response = await api.get("/categories/");
      setCategories(response.data);
    } catch (error) {
      console.error("Error fetching categories:", error);
    }
  };

  const handleChange = (e) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value,
    });
  };

  const handleImageChange = (e) => {
    const file = e.target.files[0];
    if (file) {
      setFormData({ ...formData, image: file });
      const reader = new FileReader();
      reader.onloadend = () => {
        setImagePreview(reader.result);
      };
      reader.readAsDataURL(file);
    }
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    setLoading(true);

    try {
      const data = new FormData();
      data.append("title", formData.title);
      data.append("author", formData.author);
      data.append("category", formData.category);
      data.append("price", formData.price);
      data.append("condition", formData.condition);
      data.append("description", formData.description);

      if (formData.image) {
        data.append("image", formData.image);
      }

      await api.post("/books/my-inventory/", data, {
        headers: {
          "Content-Type": "multipart/form-data",
        },
      });

      toast.success("کتاب با موفقیت اضافه شد و در انتظار تایید است");
      navigate("/seller/inventory");
    } catch (error) {
      toast.error("خطا در افزودن کتاب");
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="seller-page">
      <div className="container">
        <button onClick={() => navigate(-1)} className="back-button">
          <FiArrowRight /> بازگشت
        </button>

        <div className="page-header">
          <h1>افزودن کتاب جدید</h1>
          <p>اطلاعات کتاب خود را وارد کنید</p>
        </div>

        <div className="seller-content">
          <div className="book-form-card">
            <form onSubmit={handleSubmit} className="book-form">
              <div className="form-row">
                <div className="form-group">
                  <label>عنوان کتاب *</label>
                  <input
                    type="text"
                    name="title"
                    value={formData.title}
                    onChange={handleChange}
                    required
                    placeholder="عنوان کتاب را وارد کنید"
                  />
                </div>

                <div className="form-group">
                  <label>نویسنده *</label>
                  <input
                    type="text"
                    name="author"
                    value={formData.author}
                    onChange={handleChange}
                    required
                    placeholder="نام نویسنده"
                  />
                </div>
              </div>

              <div className="form-row">
                <div className="form-group">
                  <label>دسته‌بندی *</label>
                  <select
                    name="category"
                    value={formData.category}
                    onChange={handleChange}
                    required
                  >
                    <option value="">انتخاب کنید</option>
                    {categories.map((cat) => (
                      <option key={cat.id} value={cat.id}>
                        {cat.name}
                      </option>
                    ))}
                  </select>
                </div>

                <div className="form-group">
                  <label>قیمت (تومان) *</label>
                  <input
                    type="number"
                    name="price"
                    value={formData.price}
                    onChange={handleChange}
                    required
                    min="0"
                    placeholder="قیمت کتاب"
                  />
                </div>
              </div>

              <div className="form-group">
                <label>وضعیت کتاب *</label>
                <select
                  name="condition"
                  value={formData.condition}
                  onChange={handleChange}
                  required
                >
                  <option value="new">نو</option>
                  <option value="used">دست دوم</option>
                </select>
              </div>

              <div className="form-group">
                <label>توضیحات *</label>
                <textarea
                  name="description"
                  value={formData.description}
                  onChange={handleChange}
                  required
                  rows="5"
                  placeholder="توضیحات کامل درباره کتاب..."
                />
              </div>

              <div className="form-group">
                <label>
                  <FiImage /> تصویر کتاب
                </label>
                <input
                  type="file"
                  accept="image/*"
                  onChange={handleImageChange}
                  className="file-input"
                />
                {imagePreview && (
                  <div className="image-preview">
                    <img src={imagePreview} alt="Preview" />
                  </div>
                )}
              </div>

              <button
                type="submit"
                className="btn btn-primary btn-large"
                disabled={loading}
              >
                {loading ? (
                  <div className="loading"></div>
                ) : (
                  <>
                    <FiSave /> ذخیره کتاب
                  </>
                )}
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  );
};

export default AddBookPage;


--------------------------------------------------
File End
--------------------------------------------------


pages\Seller\EditBookPage.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { useNavigate, useParams } from "react-router-dom";
import { toast } from "react-toastify";
import { FiSave, FiArrowRight, FiImage } from "react-icons/fi";
import api from "../../services/api";
import "./SellerPages.css";

const EditBookPage = () => {
  const { id } = useParams();
  const navigate = useNavigate();
  const [categories, setCategories] = useState([]);
  const [loading, setLoading] = useState(false);
  const [imagePreview, setImagePreview] = useState(null);
  const [formData, setFormData] = useState({
    title: "",
    author: "",
    category: "",
    price: "",
    condition: "used",
    description: "",
    image: null,
  });

  useEffect(() => {
    fetchCategories();
    fetchBook();
  }, [id]);

  const fetchCategories = async () => {
    try {
      const response = await api.get("/categories/");
      setCategories(response.data);
    } catch (error) {
      console.error("Error fetching categories:", error);
    }
  };

  const fetchBook = async () => {
    try {
      const response = await api.get(`/books/${id}/`);
      setFormData({
        title: response.data.title,
        author: response.data.author,
        category: response.data.category,
        price: response.data.price,
        condition: response.data.condition,
        description: response.data.description,
        image: null,
      });
      setImagePreview(response.data.image);
    } catch (error) {
      toast.error("خطا در دریافت اطلاعات کتاب");
      navigate("/seller/inventory");
    }
  };

  const handleChange = (e) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value,
    });
  };

  const handleImageChange = (e) => {
    const file = e.target.files[0];
    if (file) {
      setFormData({ ...formData, image: file });
      const reader = new FileReader();
      reader.onloadend = () => {
        setImagePreview(reader.result);
      };
      reader.readAsDataURL(file);
    }
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    setLoading(true);

    try {
      const data = new FormData();
      data.append("title", formData.title);
      data.append("author", formData.author);
      data.append("category", formData.category);
      data.append("price", formData.price);
      data.append("condition", formData.condition);
      data.append("description", formData.description);

      if (formData.image) {
        data.append("image", formData.image);
      }

      await api.put(`/books/${id}/`, data, {
        headers: {
          "Content-Type": "multipart/form-data",
        },
      });

      toast.success("کتاب به‌روزرسانی شد و در انتظار تایید مجدد است");
      navigate("/seller/inventory");
    } catch (error) {
      toast.error("خطا در به‌روزرسانی کتاب");
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="seller-page">
      <div className="container">
        <button onClick={() => navigate(-1)} className="back-button">
          <FiArrowRight /> بازگشت
        </button>

        <div className="page-header">
          <h1>ویرایش کتاب</h1>
          <p>به‌روزرسانی اطلاعات کتاب</p>
        </div>

        <div className="seller-content">
          <div className="book-form-card">
            <form onSubmit={handleSubmit} className="book-form">
              <div className="form-row">
                <div className="form-group">
                  <label>عنوان کتاب *</label>
                  <input
                    type="text"
                    name="title"
                    value={formData.title}
                    onChange={handleChange}
                    required
                  />
                </div>

                <div className="form-group">
                  <label>نویسنده *</label>
                  <input
                    type="text"
                    name="author"
                    value={formData.author}
                    onChange={handleChange}
                    required
                  />
                </div>
              </div>

              <div className="form-row">
                <div className="form-group">
                  <label>دسته‌بندی *</label>
                  <select
                    name="category"
                    value={formData.category}
                    onChange={handleChange}
                    required
                  >
                    <option value="">انتخاب کنید</option>
                    {categories.map((cat) => (
                      <option key={cat.id} value={cat.id}>
                        {cat.name}
                      </option>
                    ))}
                  </select>
                </div>

                <div className="form-group">
                  <label>قیمت (تومان) *</label>
                  <input
                    type="number"
                    name="price"
                    value={formData.price}
                    onChange={handleChange}
                    required
                    min="0"
                  />
                </div>
              </div>

              <div className="form-group">
                <label>وضعیت کتاب *</label>
                <select
                  name="condition"
                  value={formData.condition}
                  onChange={handleChange}
                  required
                >
                  <option value="new">نو</option>
                  <option value="used">دست دوم</option>
                </select>
              </div>

              <div className="form-group">
                <label>توضیحات *</label>
                <textarea
                  name="description"
                  value={formData.description}
                  onChange={handleChange}
                  required
                  rows="5"
                />
              </div>

              <div className="form-group">
                <label>
                  <FiImage /> تصویر کتاب
                </label>
                <input
                  type="file"
                  accept="image/*"
                  onChange={handleImageChange}
                  className="file-input"
                />
                {imagePreview && (
                  <div className="image-preview">
                    <img src={imagePreview} alt="Preview" />
                  </div>
                )}
              </div>

              <button
                type="submit"
                className="btn btn-primary btn-large"
                disabled={loading}
              >
                {loading ? (
                  <div className="loading"></div>
                ) : (
                  <>
                    <FiSave /> به‌روزرسانی کتاب
                  </>
                )}
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  );
};

export default EditBookPage;


--------------------------------------------------
File End
--------------------------------------------------


pages\Seller\SellerInventoryPage.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { Link } from "react-router-dom";
import { toast } from "react-toastify";
import { FiPlus, FiEdit, FiTrash2, FiPackage } from "react-icons/fi";
import api from "../../services/api";
import "./SellerPages.css";

const SellerInventoryPage = () => {
  const [books, setBooks] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchInventory();
  }, []);

  const fetchInventory = async () => {
    try {
      const response = await api.get("/books/my-inventory/");
      setBooks(response.data);
    } catch (error) {
      toast.error("خطا در دریافت کتاب‌ها");
    } finally {
      setLoading(false);
    }
  };

  const handleDelete = async (id) => {
    if (!window.confirm("آیا از حذف این کتاب اطمینان دارید؟")) return;

    try {
      await api.delete(`/books/${id}/`);
      setBooks(books.filter((book) => book.id !== id));
      toast.success("کتاب حذف شد");
    } catch (error) {
      toast.error("خطا در حذف کتاب");
    }
  };

  const getStatusBadge = (status, isApproved) => {
    if (!isApproved)
      return <span className="badge badge-warning">در انتظار تایید</span>;
    if (status === "sold")
      return <span className="badge badge-error">فروخته شده</span>;
    if (status === "available")
      return <span className="badge badge-success">موجود</span>;
    return <span className="badge badge-warning">در انتظار</span>;
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading"></div>
      </div>
    );
  }

  return (
    <div className="seller-page">
      <div className="container">
        <div className="page-header">
          <div>
            <h1>انبار کتاب‌های من</h1>
            <p>مدیریت کتاب‌های خود</p>
          </div>
          <Link to="/seller/add-book" className="btn btn-primary">
            <FiPlus /> افزودن کتاب جدید
          </Link>
        </div>

        <div className="seller-content">
          {books.length > 0 ? (
            <div className="inventory-table">
              <table>
                <thead>
                  <tr>
                    <th>تصویر</th>
                    <th>عنوان</th>
                    <th>نویسنده</th>
                    <th>قیمت</th>
                    <th>وضعیت</th>
                    <th>تاریخ ایجاد</th>
                    <th>عملیات</th>
                  </tr>
                </thead>
                <tbody>
                  {books.map((book) => (
                    <tr key={book.id}>
                      <td>
                        <img
                          src={book.image || "/default-book.png"}
                          alt={book.title}
                          className="book-thumb"
                        />
                      </td>
                      <td>{book.title}</td>
                      <td>{book.author}</td>
                      <td>
                        {Number(book.price).toLocaleString("fa-IR")} تومان
                      </td>
                      <td>{getStatusBadge(book.status, book.is_approved)}</td>
                      <td>
                        {new Date(book.created_at).toLocaleDateString("fa-IR")}
                      </td>
                      <td>
                        <div className="action-buttons">
                          <Link
                            to={`/seller/edit-book/${book.id}`}
                            className="btn-icon edit"
                            title="ویرایش"
                          >
                            <FiEdit />
                          </Link>
                          <button
                            onClick={() => handleDelete(book.id)}
                            className="btn-icon delete"
                            title="حذف"
                          >
                            <FiTrash2 />
                          </button>
                        </div>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          ) : (
            <div className="empty-state">
              <FiPackage size={64} />
              <h3>هنوز کتابی اضافه نکرده‌اید</h3>
              <p>اولین کتاب خود را اضافه کنید</p>
              <Link to="/seller/add-book" className="btn btn-primary btn-large">
                <FiPlus /> افزودن کتاب
              </Link>
            </div>
          )}
        </div>
      </div>
    </div>
  );
};

export default SellerInventoryPage;


--------------------------------------------------
File End
--------------------------------------------------


pages\Seller\SellerPages.css
File type: .css
.seller-page {
  min-height: 100vh;
  padding: var(--spacing-xl) 0;
  background: var(--bg-primary);
}

.back-button {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  background: var(--bg-tertiary);
  border: 2px solid var(--border);
  border-radius: var(--radius-md);
  color: var(--text-primary);
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  margin-bottom: var(--spacing-lg);
}

.back-button:hover {
  border-color: var(--primary);
  color: var(--primary);
}

.page-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-2xl);
}

.seller-content {
  max-width: 1200px;
  margin: 0 auto;
}

.inventory-table {
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  box-shadow: var(--shadow-md);
  overflow-x: auto;
}

.inventory-table table {
  width: 100%;
  border-collapse: collapse;
}

.inventory-table th {
  background: var(--bg-secondary);
  padding: var(--spacing-md);
  text-align: right;
  font-weight: 600;
  color: var(--text-primary);
  border-bottom: 2px solid var(--border);
}

.inventory-table td {
  padding: var(--spacing-md);
  border-bottom: 1px solid var(--border);
  color: var(--text-secondary);
}

.inventory-table tr:hover {
  background: var(--bg-secondary);
}

.book-thumb {
  width: 60px;
  height: 80px;
  object-fit: cover;
  border-radius: var(--radius-sm);
}

.action-buttons {
  display: flex;
  gap: var(--spacing-sm);
}

.btn-icon {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-md);
  border: 1px solid var(--border);
  background: var(--bg-tertiary);
  color: var(--text-secondary);
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 1.125rem;
}

.btn-icon.edit:hover {
  background: var(--primary);
  color: white;
  border-color: var(--primary);
}

.btn-icon.delete:hover {
  background: var(--error);
  color: white;
  border-color: var(--error);
}

.btn-icon.approve:hover {
  background: var(--success);
  color: white;
  border-color: var(--success);
}

.book-form-card {
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-2xl);
  box-shadow: var(--shadow-md);
}

.book-form {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

.file-input {
  padding: var(--spacing-md);
  background: var(--bg-secondary);
  border: 2px dashed var(--border);
  border-radius: var(--radius-md);
  cursor: pointer;
}

.file-input:hover {
  border-color: var(--primary);
}

.image-preview {
  margin-top: var(--spacing-md);
  text-align: center;
}

.image-preview img {
  max-width: 200px;
  max-height: 300px;
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-md);
}

@media (max-width: 968px) {
  .page-header {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--spacing-md);
  }

  .inventory-table {
    overflow-x: scroll;
  }

  .form-row {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 768px) {
  .page-header h1 {
    font-size: 2rem;
  }
}


--------------------------------------------------
File End
--------------------------------------------------


pages\User\FavoritesPage.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { toast } from "react-toastify";
import { FiHeart } from "react-icons/fi";
import api from "../../services/api";
import BookCard from "../../components/BookCard/Bookcard";
import "./UserPages.css";

const FavoritesPage = () => {
  const [favorites, setFavorites] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchFavorites();
  }, []);

  const fetchFavorites = async () => {
    try {
      const response = await api.get("/favorites/");
      setFavorites(response.data);
    } catch (error) {
      toast.error("خطا در دریافت علاقه‌مندی‌ها");
    } finally {
      setLoading(false);
    }
  };

  const handleRemoveFavorite = async (id) => {
    try {
      await api.delete(`/favorites/${id}/`);
      setFavorites(favorites.filter((fav) => fav.id !== id));
      toast.success("از علاقه‌مندی‌ها حذف شد");
    } catch (error) {
      toast.error("خطا در حذف");
    }
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading"></div>
      </div>
    );
  }

  return (
    <div className="user-page">
      <div className="container">
        <div className="page-header">
          <h1>علاقه‌مندی‌های من</h1>
          <p>کتاب‌های مورد علاقه شما</p>
        </div>

        <div className="user-content">
          {favorites.length > 0 ? (
            <div className="books-grid">
              {favorites.map((fav) => (
                <BookCard
                  key={fav.id}
                  book={fav.book_details}
                  onFavoriteToggle={() => handleRemoveFavorite(fav.id)}
                />
              ))}
            </div>
          ) : (
            <div className="empty-state">
              <FiHeart size={64} />
              <h3>هنوز کتابی را به علاقه‌مندی‌ها اضافه نکرده‌اید</h3>
              <p>کتاب‌های مورد علاقه خود را ذخیره کنید</p>
            </div>
          )}
        </div>
      </div>
    </div>
  );
};

export default FavoritesPage;


--------------------------------------------------
File End
--------------------------------------------------


pages\User\MyOrdersPage.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { toast } from "react-toastify";
import { FiShoppingCart, FiPackage, FiCheckCircle } from "react-icons/fi";
import api from "../../services/api";
import "./UserPages.css";

const MyOrdersPage = () => {
  const [orders, setOrders] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchOrders();
  }, []);

  const fetchOrders = async () => {
    try {
      const response = await api.get("/orders/my-invoices/");
      setOrders(response.data);
    } catch (error) {
      toast.error("خطا در دریافت سفارشات");
    } finally {
      setLoading(false);
    }
  };

  const getStatusIcon = (status) => {
    switch (status) {
      case "paid":
        return <FiCheckCircle className="status-icon success" />;
      case "pending":
        return <FiPackage className="status-icon warning" />;
      default:
        return <FiShoppingCart className="status-icon" />;
    }
  };

  const getStatusText = (status) => {
    switch (status) {
      case "paid":
        return "پرداخت شده";
      case "pending":
        return "در انتظار";
      case "shipped":
        return "ارسال شده";
      default:
        return status;
    }
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading"></div>
      </div>
    );
  }

  return (
    <div className="user-page">
      <div className="container">
        <div className="page-header">
          <h1>سفارش‌های من</h1>
          <p>مشاهده و پیگیری سفارشات</p>
        </div>

        <div className="user-content">
          {orders.length > 0 ? (
            <div className="orders-list">
              {orders.map((order) => (
                <div key={order.id} className="order-card">
                  <div className="order-header">
                    <div className="order-info">
                      <h3>{order.book_title}</h3>
                      <p className="order-date">
                        {new Date(order.created_at).toLocaleDateString("fa-IR")}
                      </p>
                    </div>
                    <div className="order-status">
                      {getStatusIcon(order.status)}
                      <span>{getStatusText(order.status)}</span>
                    </div>
                  </div>

                  <div className="order-details">
                    <div className="order-detail-item">
                      <span className="label">مبلغ:</span>
                      <span className="value">
                        {Number(order.total_price).toLocaleString("fa-IR")}{" "}
                        تومان
                      </span>
                    </div>
                    {order.tracking_code && (
                      <div className="order-detail-item">
                        <span className="label">کد پیگیری:</span>
                        <span className="value tracking-code">
                          {order.tracking_code}
                        </span>
                      </div>
                    )}
                    <div className="order-detail-item">
                      <span className="label">وضعیت پرداخت:</span>
                      <span
                        className={`badge badge-${order.payment_status === "success" ? "success" : "warning"}`}
                      >
                        {order.payment_status === "success"
                          ? "موفق"
                          : "در انتظار"}
                      </span>
                    </div>
                  </div>
                </div>
              ))}
            </div>
          ) : (
            <div className="empty-state">
              <FiShoppingCart size={64} />
              <h3>هنوز سفارشی ندارید</h3>
              <p>از صفحه کتاب‌ها شروع به خرید کنید</p>
            </div>
          )}
        </div>
      </div>
    </div>
  );
};

export default MyOrdersPage;


--------------------------------------------------
File End
--------------------------------------------------


pages\User\NotificationsPage.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { toast } from "react-toastify";
import { FiBell, FiCheckCircle } from "react-icons/fi";
import api from "../../services/api";
import "./UserPages.css";

const NotificationsPage = () => {
  const [notifications, setNotifications] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchNotifications();
  }, []);

  const fetchNotifications = async () => {
    try {
      const response = await api.get("/notifications/");
      setNotifications(response.data);
    } catch (error) {
      toast.error("خطا در دریافت اعلان‌ها");
    } finally {
      setLoading(false);
    }
  };

  const handleMarkAsRead = async (id) => {
    try {
      await api.post(`/notifications/${id}/mark-as-read/`);
      setNotifications(
        notifications.map((notif) =>
          notif.id === id ? { ...notif, is_read: true } : notif,
        ),
      );
    } catch (error) {
      toast.error("خطا در علامت‌گذاری");
    }
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading"></div>
      </div>
    );
  }

  return (
    <div className="user-page">
      <div className="container">
        <div className="page-header">
          <h1>اعلان‌ها</h1>
          <p>پیام‌ها و اطلاعیه‌های شما</p>
        </div>

        <div className="user-content">
          {notifications.length > 0 ? (
            <div className="notifications-list">
              {notifications.map((notif) => (
                <div
                  key={notif.id}
                  className={`notification-card ${notif.is_read ? "read" : "unread"}`}
                >
                  <div className="notification-icon">
                    <FiBell />
                  </div>
                  <div className="notification-content">
                    <p>{notif.message}</p>
                    <span className="notification-date">
                      {new Date(notif.created_at).toLocaleDateString("fa-IR")}
                    </span>
                  </div>
                  {!notif.is_read && (
                    <button
                      onClick={() => handleMarkAsRead(notif.id)}
                      className="btn btn-secondary btn-small"
                    >
                      <FiCheckCircle /> خوانده شد
                    </button>
                  )}
                </div>
              ))}
            </div>
          ) : (
            <div className="empty-state">
              <FiBell size={64} />
              <h3>اعلانی وجود ندارد</h3>
              <p>اعلان‌های جدید اینجا نمایش داده می‌شوند</p>
            </div>
          )}
        </div>
      </div>
    </div>
  );
};

export default NotificationsPage;


--------------------------------------------------
File End
--------------------------------------------------


pages\User\ProfilePage.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { toast } from "react-toastify";
import { FiUser, FiMail, FiPhone, FiSave } from "react-icons/fi";
import api from "../../services/api";
import { useAuth } from "../../context/AuthContext";
import "./UserPages.css";

const ProfilePage = () => {
  const { user, updateUser } = useAuth();
  const [formData, setFormData] = useState({
    first_name: "",
    last_name: "",
    email: "",
    phone_number: "",
  });
  const [loading, setLoading] = useState(false);

  useEffect(() => {
    if (user) {
      setFormData({
        first_name: user.first_name || "",
        last_name: user.last_name || "",
        email: user.email || "",
        phone_number: user.phone_number || "",
      });
    }
  }, [user]);

  const handleChange = (e) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value,
    });
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    setLoading(true);

    try {
      const response = await api.patch("/profile/", formData);
      updateUser(response.data);
      toast.success("پروفایل با موفقیت به‌روزرسانی شد");
    } catch (error) {
      toast.error("خطا در به‌روزرسانی پروفایل");
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="user-page">
      <div className="container">
        <div className="page-header">
          <h1>پروفایل من</h1>
          <p>مدیریت اطلاعات حساب کاربری</p>
        </div>

        <div className="user-content">
          <div className="user-card">
            <div className="user-info-header">
              <div className="user-avatar">
                <FiUser />
              </div>
              <div>
                <h2>{user?.username}</h2>
                <p className="user-role">
                  {user?.role === "admin"
                    ? "مدیر"
                    : user?.role === "seller"
                      ? "فروشنده"
                      : "خریدار"}
                </p>
              </div>
            </div>

            <form onSubmit={handleSubmit} className="profile-form">
              <div className="form-row">
                <div className="form-group">
                  <label>نام</label>
                  <input
                    type="text"
                    name="first_name"
                    value={formData.first_name}
                    onChange={handleChange}
                    placeholder="نام خود را وارد کنید"
                  />
                </div>

                <div className="form-group">
                  <label>نام خانوادگی</label>
                  <input
                    type="text"
                    name="last_name"
                    value={formData.last_name}
                    onChange={handleChange}
                    placeholder="نام خانوادگی خود را وارد کنید"
                  />
                </div>
              </div>

              <div className="form-group">
                <label>
                  <FiMail /> ایمیل
                </label>
                <input
                  type="email"
                  name="email"
                  value={formData.email}
                  onChange={handleChange}
                  required
                />
              </div>

              <div className="form-group">
                <label>
                  <FiPhone /> شماره موبایل
                </label>
                <input
                  type="text"
                  name="phone_number"
                  value={formData.phone_number}
                  onChange={handleChange}
                  pattern="09[0-9]{9}"
                  required
                />
              </div>

              <button
                type="submit"
                className="btn btn-primary btn-large"
                disabled={loading}
              >
                {loading ? (
                  <div className="loading"></div>
                ) : (
                  <>
                    <FiSave /> ذخیره تغییرات
                  </>
                )}
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  );
};

export default ProfilePage;


--------------------------------------------------
File End
--------------------------------------------------


pages\User\SupportPage.jsx
File type: .jsx
import React, { useState, useEffect } from "react";
import { toast } from "react-toastify";
import { FiSend, FiMessageSquare } from "react-icons/fi";
import api from "../../services/api";
import "./UserPages.css";

const SupportPage = () => {
  const [tickets, setTickets] = useState([]);
  const [loading, setLoading] = useState(false);
  const [formData, setFormData] = useState({
    subject: "technical",
    message: "",
  });

  useEffect(() => {
    fetchTickets();
  }, []);

  const fetchTickets = async () => {
    try {
      const response = await api.get("/support-tickets/");
      setTickets(response.data);
    } catch (error) {
      console.error("Error fetching tickets:", error);
    }
  };

  const handleChange = (e) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value,
    });
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    setLoading(true);

    try {
      await api.post("/support-tickets/", formData);
      toast.success("تیکت شما با موفقیت ارسال شد");
      setFormData({ subject: "technical", message: "" });
      fetchTickets();
    } catch (error) {
      toast.error("خطا در ارسال تیکت");
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="user-page">
      <div className="container">
        <div className="page-header">
          <h1>پشتیبانی</h1>
          <p>ارتباط با تیم پشتیبانی</p>
        </div>

        <div className="user-content">
          <div className="support-grid">
            <div className="support-form-section">
              <h2>ارسال تیکت جدید</h2>
              <form onSubmit={handleSubmit} className="support-form">
                <div className="form-group">
                  <label>موضوع</label>
                  <select
                    name="subject"
                    value={formData.subject}
                    onChange={handleChange}
                    required
                  >
                    <option value="technical">مشکل فنی</option>
                    <option value="payment">مشکل پرداخت</option>
                    <option value="report">گزارش کاربر/کتاب</option>
                    <option value="other">سایر</option>
                  </select>
                </div>

                <div className="form-group">
                  <label>پیام</label>
                  <textarea
                    name="message"
                    value={formData.message}
                    onChange={handleChange}
                    required
                    rows="5"
                    placeholder="توضیحات خود را بنویسید..."
                  />
                </div>

                <button
                  type="submit"
                  className="btn btn-primary btn-large"
                  disabled={loading}
                >
                  {loading ? (
                    <div className="loading"></div>
                  ) : (
                    <>
                      <FiSend /> ارسال تیکت
                    </>
                  )}
                </button>
              </form>
            </div>

            <div className="tickets-history-section">
              <h2>تیکت‌های قبلی</h2>
              {tickets.length > 0 ? (
                <div className="tickets-list">
                  {tickets.map((ticket) => (
                    <div key={ticket.id} className="ticket-card">
                      <div className="ticket-header">
                        <span
                          className={`badge ${ticket.is_resolved ? "badge-success" : "badge-warning"}`}
                        >
                          {ticket.is_resolved ? "پاسخ داده شده" : "در انتظار"}
                        </span>
                        <span className="ticket-date">
                          {new Date(ticket.created_at).toLocaleDateString(
                            "fa-IR",
                          )}
                        </span>
                      </div>
                      <h4>
                        {ticket.subject === "technical"
                          ? "مشکل فنی"
                          : ticket.subject === "payment"
                            ? "مشکل پرداخت"
                            : ticket.subject === "report"
                              ? "گزارش"
                              : "سایر"}
                      </h4>
                      <p className="ticket-message">{ticket.message}</p>
                      {ticket.admin_reply && (
                        <div className="admin-reply">
                          <strong>پاسخ پشتیبانی:</strong>
                          <p>{ticket.admin_reply}</p>
                        </div>
                      )}
                    </div>
                  ))}
                </div>
              ) : (
                <div className="empty-state-small">
                  <FiMessageSquare size={48} />
                  <p>هنوز تیکتی ارسال نکرده‌اید</p>
                </div>
              )}
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default SupportPage;


--------------------------------------------------
File End
--------------------------------------------------


pages\User\UserPages.css
File type: .css
.user-page {
  min-height: 100vh;
  padding: var(--spacing-xl) 0;
  background: var(--bg-primary);
}

.page-header {
  text-align: center;
  margin-bottom: var(--spacing-2xl);
}

.page-header h1 {
  font-size: 2.5rem;
  margin-bottom: var(--spacing-sm);
  color: var(--text-primary);
}

.page-header p {
  color: var(--text-secondary);
  font-size: 1.125rem;
}

.user-content {
  max-width: 1000px;
  margin: 0 auto;
}

.user-card {
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-2xl);
  box-shadow: var(--shadow-md);
}

.user-info-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-lg);
  padding-bottom: var(--spacing-xl);
  border-bottom: 1px solid var(--border);
  margin-bottom: var(--spacing-xl);
}

.user-avatar {
  width: 80px;
  height: 80px;
  background: linear-gradient(
    135deg,
    var(--primary) 0%,
    var(--primary-dark) 100%
  );
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 2.5rem;
}

.user-role {
  color: var(--text-muted);
  font-size: 0.875rem;
  margin: 0;
}

.profile-form {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--spacing-md);
}

.orders-list,
.notifications-list,
.tickets-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.order-card,
.notification-card,
.ticket-card {
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--border);
  transition: all 0.2s ease;
}

.order-card:hover,
.notification-card:hover,
.ticket-card:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-2px);
}

.order-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: var(--spacing-md);
  padding-bottom: var(--spacing-md);
  border-bottom: 1px solid var(--border);
}

.order-info h3 {
  font-size: 1.25rem;
  margin-bottom: var(--spacing-xs);
}

.order-date {
  color: var(--text-muted);
  font-size: 0.875rem;
  margin: 0;
}

.order-status {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  font-weight: 600;
}

.status-icon {
  font-size: 1.5rem;
}

.status-icon.success {
  color: var(--success);
}

.status-icon.warning {
  color: var(--warning);
}

.order-details {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.order-detail-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.order-detail-item .label {
  color: var(--text-secondary);
}

.order-detail-item .value {
  font-weight: 600;
  color: var(--text-primary);
}

.tracking-code {
  background: var(--bg-secondary);
  padding: var(--spacing-xs) var(--spacing-sm);
  border-radius: var(--radius-sm);
  font-family: monospace;
}

.notification-card {
  display: flex;
  gap: var(--spacing-md);
  align-items: flex-start;
}

.notification-card.unread {
  background: rgba(44, 95, 45, 0.03);
  border-color: var(--primary-light);
}

.notification-icon {
  width: 40px;
  height: 40px;
  background: var(--primary);
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.notification-content {
  flex: 1;
}

.notification-content p {
  margin: 0 0 var(--spacing-xs) 0;
  color: var(--text-primary);
}

.notification-date {
  color: var(--text-muted);
  font-size: 0.875rem;
}

.support-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--spacing-xl);
}

.support-form-section,
.tickets-history-section {
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  box-shadow: var(--shadow-sm);
}

.support-form-section h2,
.tickets-history-section h2 {
  margin-bottom: var(--spacing-lg);
  font-size: 1.5rem;
}

.support-form {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

.ticket-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-sm);
}

.ticket-date {
  color: var(--text-muted);
  font-size: 0.875rem;
}

.ticket-card h4 {
  margin-bottom: var(--spacing-sm);
  color: var(--primary);
}

.ticket-message {
  color: var(--text-secondary);
  margin-bottom: var(--spacing-md);
}

.admin-reply {
  background: var(--bg-secondary);
  padding: var(--spacing-md);
  border-radius: var(--radius-md);
  border-right: 3px solid var(--primary);
}

.admin-reply strong {
  display: block;
  margin-bottom: var(--spacing-xs);
  color: var(--primary);
}

.admin-reply p {
  margin: 0;
  color: var(--text-secondary);
}

.empty-state {
  text-align: center;
  padding: var(--spacing-2xl);
  color: var(--text-muted);
}

.empty-state svg {
  color: var(--text-muted);
  margin-bottom: var(--spacing-md);
}

.empty-state h3 {
  margin-bottom: var(--spacing-sm);
  color: var(--text-secondary);
}

.empty-state-small {
  text-align: center;
  padding: var(--spacing-xl);
  color: var(--text-muted);
}

.empty-state-small svg {
  color: var(--text-muted);
  margin-bottom: var(--spacing-sm);
}

@media (max-width: 968px) {
  .support-grid {
    grid-template-columns: 1fr;
  }

  .form-row {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 768px) {
  .page-header h1 {
    font-size: 2rem;
  }

  .order-header {
    flex-direction: column;
    gap: var(--spacing-sm);
  }
}


--------------------------------------------------
File End
--------------------------------------------------


services\api.js
File type: .js
import axios from "axios";

const api = axios.create({
  baseURL: "http://127.0.0.1:8000/api",
  headers: {
    "Content-Type": "application/json",
  },
});

api.interceptors.request.use(
  (config) => {
    const token = localStorage.getItem("token");
    if (token) {
      config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
  },
  (error) => Promise.reject(error),
);

api.interceptors.response.use(
  (response) => response,
  async (error) => {
    const originalRequest = error.config;

    if (error.response?.status === 401 && !originalRequest._retry) {
      originalRequest._retry = true;

      try {
        const refreshToken = localStorage.getItem("refreshToken");
        if (refreshToken) {
          const response = await axios.post("/api/token/refresh/", {
            refresh: refreshToken,
          });

          const { access } = response.data;
          localStorage.setItem("token", access);

          originalRequest.headers.Authorization = `Bearer ${access}`;
          return api(originalRequest);
        }
      } catch (refreshError) {
        localStorage.removeItem("token");
        localStorage.removeItem("refreshToken");
        window.location.href = "/login";
        return Promise.reject(refreshError);
      }
    }

    return Promise.reject(error);
  },
);

export default api;


--------------------------------------------------
File End
--------------------------------------------------
