import React, { useState } from "react";
import { FiChevronDown, FiChevronUp, FiHelpCircle } from "react-icons/fi";
import { Link } from "react-router-dom";
import "./InfoPages.css";

const FAQPage = () => {
  const [openIndex, setOpenIndex] = useState(null);

  const toggleFAQ = (index) => {
    setOpenIndex(openIndex === index ? null : index);
  };

  const faqs = [
    {
      category: "عمومی",
      items: [
        {
          question: "کتاب‌مارکت چیست؟",
          answer:
            "کتاب‌مارکت یک پلتفرم آنلاین برای خرید و فروش کتاب‌های دست دوم است. این پلتفرم به شما امکان می‌دهد کتاب‌های خود را به فروش برسانید یا کتاب‌های مورد نیاز را با قیمت مناسب خریداری کنید.",
        },
        {
          question: "آیا استفاده از کتاب‌مارکت رایگان است؟",
          answer:
            "بله، ثبت‌نام و استفاده از خدمات کتاب‌مارکت کاملاً رایگان است. هیچ هزینه‌ای برای ثبت‌نام، افزودن کتاب یا خرید از شما دریافت نمی‌شود.",
        },
        {
          question: "چگونه می‌توانم عضو شوم؟",
          answer:
            'از منوی بالای سایت روی دکمه "ثبت‌نام" کلیک کنید و فرم را با اطلاعات صحیح پر کنید. پس از ثبت‌نام، می‌توانید به تمام امکانات دسترسی داشته باشید.',
        },
      ],
    },
    {
      category: "خرید",
      items: [
        {
          question: "چگونه کتاب خریداری کنم؟",
          answer:
            'ابتدا از صفحه کتاب‌ها، کتاب مورد نظر را پیدا کنید. سپس روی آن کلیک کرده و "خرید کتاب" را انتخاب کنید. بعد از پرداخت، اطلاعات فروشنده برای هماهنگی تحویل در اختیار شما قرار می‌گیرد.',
        },
        {
          question: "روش‌های پرداخت چیست؟",
          answer:
            "شما می‌توانید از طریق درگاه پرداخت آنلاین با تمام کارت‌های بانکی پرداخت کنید. همچنین امکان پرداخت از کیف پول (در صورت وجود موجودی) نیز وجود دارد.",
        },
        {
          question: "آیا می‌توانم سفارش را لغو کنم؟",
          answer:
            "بله، قبل از تحویل کتاب می‌توانید با پشتیبانی تماس بگیرید و درخواست لغو سفارش دهید. در صورت تأیید، وجه پرداختی به حساب شما بازگردانده می‌شود.",
        },
        {
          question: "کتاب چگونه تحویل داده می‌شود؟",
          answer:
            "تحویل کتاب به صورت حضوری و با هماهنگی مستقیم بین شما و فروشنده انجام می‌شود. توصیه می‌کنیم تحویل در مکان‌های عمومی و امن انجام شود.",
        },
        {
          question: "اگر کتاب مشکل داشت چه کنم؟",
          answer:
            "در صورت وجود هرگونه مشکل یا عدم تطابق کتاب با توضیحات، می‌توانید از طریق بخش پشتیبانی تیکت ارسال کنید. تیم ما در اسرع وقت به شما پاسخ خواهد داد.",
        },
      ],
    },
    {
      category: "فروش",
      items: [
        {
          question: "چگونه می‌توانم کتاب بفروشم؟",
          answer:
            'ابتدا باید به عنوان فروشنده ثبت‌نام کنید. سپس از بخش "افزودن کتاب" اطلاعات کتاب خود را وارد کنید. بعد از تأیید توسط مدیر، کتاب شما قابل نمایش و خرید خواهد بود.',
        },
        {
          question: "چقدر طول می‌کشد تا کتابم تأیید شود؟",
          answer:
            'معمولاً بررسی و تأیید کتاب‌ها کمتر از 24 ساعت زمان می‌برد. شما می‌توانید وضعیت کتاب‌های خود را از بخش "انبار من" پیگیری کنید.',
        },
        {
          question: "قیمت کتاب را چگونه تعیین کنم؟",
          answer:
            'قیمت را بر اساس وضعیت کتاب (نو یا دست دوم) و قیمت اصلی تعیین کنید. برای راهنمایی بیشتر، صفحه "راهنمای فروش" را مطالعه کنید.',
        },
        {
          question: "چند کتاب می‌توانم اضافه کنم؟",
          answer:
            "محدودیتی برای تعداد کتاب‌های قابل افزودن وجود ندارد. می‌توانید هر تعداد که بخواهید کتاب اضافه کنید.",
        },
        {
          question: "آیا می‌توانم کتاب را ویرایش کنم؟",
          answer:
            'بله، از بخش "انبار من" می‌توانید کتاب‌های خود را ویرایش یا حذف کنید. توجه داشته باشید که پس از ویرایش، کتاب مجدداً باید توسط مدیر تأیید شود.',
        },
      ],
    },
    {
      category: "پرداخت و مالی",
      items: [
        {
          question: "آیا پرداخت امن است؟",
          answer:
            "بله، کاملاً امن است. تمام پرداخت‌ها از طریق درگاه‌های معتبر بانکی و با رعایت استانداردهای امنیتی انجام می‌شود.",
        },
        {
          question: "کد پیگیری چیست؟",
          answer:
            "کد پیگیری یک شماره منحصر به فرد است که بعد از پرداخت موفق به شما داده می‌شود. با این کد می‌توانید وضعیت سفارش خود را پیگیری کنید.",
        },
        {
          question: "چگونه فاکتور دریافت کنم؟",
          answer:
            'پس از پرداخت موفق، در صفحه تأیید پرداخت می‌توانید فاکتور را مشاهده و دانلود کنید. همچنین از بخش "سفارشات من" نیز قابل دسترسی است.',
        },
        {
          question: "آیا می‌توانم تراکنش‌های قبلی را ببینم؟",
          answer:
            'بله، از بخش "تراکنش‌های من" می‌توانید تمام تاریخچه پرداخت‌های خود را مشاهده کنید.',
        },
      ],
    },
    {
      category: "حساب کاربری",
      items: [
        {
          question: "رمز عبور خود را فراموش کرده‌ام",
          answer:
            'از صفحه ورود، روی "فراموشی رمز عبور" کلیک کنید. یک کد تأیید برای شما ارسال می‌شود که با آن می‌توانید رمز جدید تعیین کنید.',
        },
        {
          question: "چگونه اطلاعات پروفایل را تغییر دهم؟",
          answer:
            'از بخش "پروفایل من" می‌توانید اطلاعات شخصی خود مانند نام، ایمیل و شماره تماس را ویرایش کنید.',
        },
        {
          question: "چگونه نقش خود را تغییر دهم؟",
          answer:
            "برای تغییر نقش از خریدار به فروشنده، می‌توانید با پشتیبانی تماس بگیرید یا از طریق پنل مدیریت (در صورت دسترسی) تغییر دهید.",
        },
        {
          question: "چگونه حساب خود را حذف کنم؟",
          answer:
            "برای حذف حساب کاربری، لطفاً از طریق بخش پشتیبانی درخواست دهید. توجه داشته باشید که این عمل غیرقابل بازگشت است.",
        },
      ],
    },
    {
      category: "پشتیبانی",
      items: [
        {
          question: "چگونه با پشتیبانی تماس بگیرم؟",
          answer:
            'از بخش "پشتیبانی" می‌توانید تیکت ارسال کنید. همچنین می‌توانید از طریق ایمیل support@bookmarket.ir یا شماره تلفن 021-12345678 با ما در تماس باشید.',
        },
        {
          question: "چقدر طول می‌کشد تا به تیکتم پاسخ دهید؟",
          answer:
            "معمولاً ظرف 24 ساعت به تیکت‌ها پاسخ داده می‌شود. در ایام تعطیل ممکن است کمی بیشتر طول بکشد.",
        },
        {
          question: "چگونه کاربر یا کتابی را گزارش کنم؟",
          answer:
            'اگر محتوای نامناسب یا تخلف مشاهده کردید، می‌توانید از طریق بخش پشتیبانی با موضوع "گزارش" تیکت ارسال کنید.',
        },
      ],
    },
  ];

  return (
    <div className="info-page">
      <div className="container">
        <div className="page-header">
          <h1>سوالات متداول</h1>
          <p>پاسخ سوالات رایج کاربران</p>
        </div>

        <div className="info-content">
          <div className="faq-intro">
            <FiHelpCircle size={48} />
            <p>
              در اینجا پاسخ رایج‌ترین سوالات را می‌یابید. اگر سوال شما پاسخ داده
              نشد، از طریق <Link to="/support">پشتیبانی</Link> با ما تماس
              بگیرید.
            </p>
          </div>

          {faqs.map((category, catIndex) => (
            <div key={catIndex} className="faq-category">
              <h2 className="category-title">{category.category}</h2>
              <div className="faq-list">
                {category.items.map((faq, faqIndex) => {
                  const index = `${catIndex}-${faqIndex}`;
                  const isOpen = openIndex === index;

                  return (
                    <div
                      key={index}
                      className={`faq-item ${isOpen ? "open" : ""}`}
                    >
                      <button
                        className="faq-question"
                        onClick={() => toggleFAQ(index)}
                      >
                        <span>{faq.question}</span>
                        {isOpen ? <FiChevronUp /> : <FiChevronDown />}
                      </button>
                      {isOpen && (
                        <div className="faq-answer">
                          <p>{faq.answer}</p>
                        </div>
                      )}
                    </div>
                  );
                })}
              </div>
            </div>
          ))}

          <div className="faq-footer">
            <h3>سوال شما پاسخ داده نشد؟</h3>
            <p>تیم پشتیبانی ما آماده پاسخگویی به سوالات شماست.</p>
            <Link to="/support" className="btn btn-primary">
              تماس با پشتیبانی
            </Link>
          </div>
        </div>
      </div>
    </div>
  );
};

export default FAQPage;
